"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[424],{18099:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var r=a(1413),n=a(15671),o=a(43144),l=a(79340),s=a(48347),i=a(47313),u=a(2651),c=a(46417),d=function(t){(0,l.Z)(a,t);var e=(0,s.Z)(a);function a(){return(0,n.Z)(this,a),e.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){var t=this,e=this.props,a=e.dataArr,n=e.indexNo,o=e.completeDataObject,l=e.wall,s=(e.webFilters,e.languageSetting,e.cardWidth),i=e.largeDiv,d=e.smallDiv,h=e.handleAllImageError,m=l.ThemeRule.highlightPosition,p=n%2,g={width:i+"%",float:"0"==p?"right"==m?"right":"left":"right"==m?"left":"right"},D={width:d+"%",float:"right"==m?"left":"right"};return(0,c.jsx)("div",{className:"ts_cs_post_row",children:a&&a.length>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"ts_cs_post_large",style:g,children:[" ",(0,c.jsx)(u.Z,(0,r.Z)({className:"ts_ct_post_wrapper",itemData:o[a[0]],cardWidth:s,itemId:o[a[0]].id,fullWidth:!0},this.props))," "]}),(0,c.jsxs)("div",{className:"ts_cs_post_small",style:D,children:[a&&a.length>0?a.map((function(e,a){var n=o[e];return 0==a?"":(0,c.jsx)(u.Z,(0,r.Z)({className:"ts_ct_post_wrapper",itemData:n,handleAllImageError:h,cardWidth:s,fullWidth:!1,itemId:n.id},t.props),"post_id_".concat(n.id,"_").concat(a))})):null," "]})]}):""})}}]),a}(i.PureComponent),h=a(17739),m=a(73763),p=a(8354),g=function(t){(0,l.Z)(a,t);var e=(0,s.Z)(a);function a(){var t;(0,n.Z)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))).allImageQueue=[],t.state={cardWidth:null,largeDiv:null,smallDiv:null,allFirstImage:!1},t.requestData=function(){var e=t.props,a=e.wall,r=(e.postData,e.appendData),n=e.hasMoreData,o=e.loaderData,l=a.Personalization.numberOfPosts,s=Math.floor(Date.now()/1e3);n&&!o.isShowMoreLoading&&t.props.getDataNextSteps(a.Wall.id,s,l,r.networkID,r.after,r.heightEvent)},t.onCollageDataFormation=function(e){var a=e.wall,r=(e.postData,document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:""),n=a.ThemeRule.numberOfCoumn,o=(0,h.xi)(r,n,a.Personalization.commerceTheme),l=o.cardWidth,s=o.largeDiv,i=o.smallDiv;t.setState({cardWidth:l,largeDiv:s,smallDiv:i})},t.handleAllImageError=function(e){try{var a=e.target.getAttribute("data-item-id");t.allImageQueue.push({src:a,e:e}),t.state.allFirstImage||t.processAllImageQueue()}catch(r){}},t.processAllImageQueue=function(){if(t.allImageQueue.length){t.setState({allFirstImage:!0});var e=t.allImageQueue[0],a=e.src,r=e.e;a&&(0,h.bO)(r,t.nextProcessAllImageQueue)}},t.nextProcessAllImageQueue=function(){try{t.allImageQueue.shift(),t.processAllImageQueue()}catch(e){}},t}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){var t=this;this.onCollageDataFormation(this.props);var e=this.props,a=e.wall,r=(e.postData,e.appendData);document.getElementById("scrlBarComanW");r&&a.Personalization.autoScrollStatus&&window.addEventListener("scroll",(function(e){var a=document.getElementById("scrlBarComanW"),r=(document.body.scrollHeight,window.innerHeight+window.scrollY);a.scrollHeight-10<r&&setTimeout((function(){return t.requestData()}),1e3)}))}},{key:"render",value:function(){var t=this,e=this.state,a=(e.data,e.cardWidth),n=e.largeDiv,o=e.smallDiv,l=this.props,s=(l.postData,l.completeDataObject,l.adjustWidth,l.wall),i=(l.webFilters,l.languageSetting,l.newPostData);return(0,c.jsx)("div",{className:"tb_sc_post_container",id:"ts_theme_container",children:i&&i.length>0?i.map((function(e,l){return h.j6&&i&&i.length-1==l&&setTimeout((function(){var t=document.querySelectorAll("img[data-is-optmized='0']");t&&t.length>0&&t.forEach((function(t){t.setAttribute("src",t.getAttribute("data-src")),t.setAttribute("data-is-optmized","1")}))}),1300),e.length==s.ThemeRule.numberOfCoumn?(0,c.jsx)(d,(0,r.Z)((0,r.Z)({dataArr:e,handleAllImageError:t.handleAllImageError,indexNo:l},t.props),{},{cardWidth:a,largeDiv:n,smallDiv:o}),"post_id_".concat(l)):""})):null})}}]),a}(i.PureComponent),D=(0,p.$j)((function(t){var e=t.appData;return{appData:e,loaderData:t.loaderData,newPostData:e.newPostData,appendData:e.postData.appendData,hasMoreData:!e.postData.hasMoreData[0]||0!=e.postData.hasMoreData[0].hasMoreData&&(!e.postData.hasMoreData[e.postData.appendData.networkID]||e.postData.hasMoreData[e.postData.appendData.networkID].hasMoreData)}}),(function(t){return{getDataNextSteps:function(e,a,r,n,o,l,s){return t((0,m.Sx)(e,a,r,n,o,l,s))}}}))(g)},85942:function(t,e,a){a.d(e,{Z:function(){return r}});var r=function(t,e){return new Promise((function(a,r){var n=null,o=new Image;o.addEventListener("load",(function(){n&&clearTimeout(n),a(o)})),o.addEventListener("error",(function(t){n&&clearTimeout(n),r("".concat(t.type,": ").concat(t.message))})),o.src=t,e&&(n=setTimeout((function(){return r("Timeout exception")}),e))}))}}}]);