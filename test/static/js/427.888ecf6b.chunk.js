"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[427],{30137:function(e,t,a){a.r(t);var n=a(1413),r=a(42982),s=a(15671),o=a(43144),i=a(79340),l=a(48347),c=a(47313),u=a(8354),p=a(73763),d=a(17739),m=a(2651),h=a(46417),D=(0,c.lazy)((function(){return Promise.all([a.e(874),a.e(885),a.e(771)]).then(a.bind(a,54771))})),w=function(e){(0,i.Z)(a,e);var t=(0,l.Z)(a);function a(){var e;(0,s.Z)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).allImageQueue=[],e.state={allFirstImage:!1,showSlides:!1},e.onUpdateData=function(t){setTimeout((function(){return e.requestData()}),1e3)},e.requestData=function(){var t=e.props,a=t.wall,n=t.appendData,r=t.hasMoreData,s=t.loaderData,o=a.ThemeRule.numberOfPosts,i=Math.floor(Date.now()/1e3);r&&!s.isShowMoreLoading&&e.props.getDataNextSteps(a.Wall.id,i,o,n.networkID,n.after,n.heightEvent)},e.onLoadPopup=function(t,a){var n=e.props,r=n.wall,s=n.postData,o=n.languageSetting,i=n.completeDataObject,l=n.wallId,c=n.webFilters,u=s.map((function(e){return i[e]})),m=u.filter((function(e){return!String(e.id).includes("free_add_")})),h=(0,d.E6)(m,a.id,t);1===r.Personalization.postFeatured&&((0,d.st)("add"),e.props.showPopUP({type:"post",card:a,idArray:m,index:h,viewOnText:o.viewOnText,shareText:o.shareText,personalization:r.Personalization,ThemeRule:r.ThemeRule,webFilters:c,UserRule:r.UserRule,wall:r})),(0,p.S5)({action:2,wall:l,feed:a.feedId,post:a.referenceId})},e.handleAllImageError=function(t){try{var a=t.target.getAttribute("data-item-id");e.allImageQueue.push({src:a,e:t}),e.state.allFirstImage||e.processAllImageQueue()}catch(n){}},e.processAllImageQueue=function(){if(e.allImageQueue.length){e.setState({allFirstImage:!0});var t=e.allImageQueue[0],a=t.src,n=t.e;a&&(0,d.bO)(n,e.nextProcessAllImageQueue)}},e.nextProcessAllImageQueue=function(){try{e.allImageQueue.shift(),e.processAllImageQueue()}catch(t){}},e}return(0,o.Z)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.completeDataObject,s=t.hasMoreData,o=t.wall,i=t.newPostData,l=t.loaderData,u=o.ThemeRule.numberOfCoumn,p=o.ThemeRule.mobileColumn,d={2400:{slidesPerView:"".concat(0===u?9:u),slidesPerMove:"".concat(0===u?9:u)},2200:{slidesPerView:"".concat(0===u?8:u),slidesPerMove:"".concat(0===u?8:u)},1800:{slidesPerView:"".concat(0===u?7:u),slidesPerMove:"".concat(0===u?7:u)},1500:{slidesPerView:"".concat(0===u?6:u),slidesPerMove:"".concat(0===u?6:u)},1367:{slidesPerView:"".concat(0===u?5:u),slidesPerMove:"".concat(0===u?5:u)},1200:{slidesPerView:"".concat(0===u?4:u),slidesPerMove:"".concat(0===u?4:u)},768:{slidesPerView:"".concat(0===u?3:u),slidesPerMove:"".concat(0===u?3:u)},576:{slidesPerView:"".concat(0===u?2:u),slidesPerMove:"".concat(0===u?2:u)},0:{slidesPerView:"".concat(0===p?1:p),slidesPerMove:"".concat(0===p?1:p)}};return(0,h.jsx)("div",{className:"ts_csl_post_container",id:"ts_theme_container",children:(0,h.jsx)(c.Suspense,{fallback:(0,h.jsx)("div",{children:"Loading..."}),children:(0,h.jsx)(D,{"slides-per-view":"".concat(0===u?6:u),navigation:JSON.stringify(l.isShowMoreLoading?{nextEl:".swiper-button",prevEl:".swiper-button-prev"}:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-none"}),breakpoints:JSON.stringify(d),"passive-listeners":!1,"long-swipes-ratio":.01,"long-swipes-ms":100,hasMoreData:s,loaderData:l,onUpdateData:this.onUpdateData,children:i&&i.length>0?(0,r.Z)(i).map((function(t,r){var s=a[t];return(0,h.jsx)("swiper-slide",{children:(0,h.jsx)(m.Z,(0,n.Z)({className:"ts_csl_post_wrapper ".concat("1"==s.type?"ts_csl_textPost":""," "),handleAllImageError:e.handleAllImageError,itemData:s,itemIndex:r},e.props),"post_id_".concat(r))},"cs".concat(r))})):null})})})}}]),a}(c.PureComponent);t.default=(0,u.$j)((function(e){var t=e.appData;return{appData:t,loaderData:e.loaderData,newPostData:t.newPostData,appendData:t.postData.appendData,hasMoreData:!t.postData.hasMoreData[0]||!1!==t.postData.hasMoreData[0].hasMoreData&&(!t.postData.hasMoreData[t.postData.appendData.networkID]||t.postData.hasMoreData[t.postData.appendData.networkID].hasMoreData)}}),(function(e){return{getDataNextSteps:function(t,a,n,r,s,o,i){return e((0,p.Sx)(t,a,n,r,s,o,i))},showPopUP:function(t){return e((0,p.Bm)(t))}}}))(w)},85942:function(e,t,a){a.d(t,{Z:function(){return n}});var n=function(e,t){return new Promise((function(a,n){var r=null,s=new Image;s.addEventListener("load",(function(){r&&clearTimeout(r),a(s)})),s.addEventListener("error",(function(e){r&&clearTimeout(r),n("".concat(e.type,": ").concat(e.message))})),s.src=e,t&&(r=setTimeout((function(){return n("Timeout exception")}),t))}))}}}]);