(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[695],{87684:(t,e,o)=>{"use strict";o.d(e,{Ue:()=>c,ki:()=>n,o2:()=>l,uD:()=>s});var i=o(31881),a=o.n(i),r=o(35179);o(32626);const s=t=>a().get("".concat(t,".js")),n=t=>a().post("".concat(r.Yh,"/cart/add.js"),t),l=()=>a().get("".concat(r.Yh,"/cart.js")),c=t=>{a().post(r.rS,t).then((t=>{})).catch((t=>console.log("error",t)))}},77181:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>K});var i=o(47313),a=o(59204),r=o(12549),s=o(73763),n=o(17739),l=o(7142),c=(o(24557),o(20510)),d=o.n(c),u=(o(34041),o(29335)),h=o(46417);i.PureComponent;var p=o(90182);i.Component;var m=o(25370);class g extends i.Component{constructor(t){super(t),this.updateMediaSize=t=>{const{setMediaSize:e}=this.props;e({mediaHeight:t.target.offsetHeight,mediaWidth:t.target.offsetWidth}),this.setState({mediaLoaded:!0})},this.state={isHotspot:!1,loadedImg:!1,mediaLoaded:!1,imgUrl:t.ImageUrl},this.myRef=i.createRef()}componentWillReceiveProps(t){const{ImageUrl:e}=t;this.state.imgUrl!==e&&this.setState({imgUrl:e,mediaLoaded:!1})}render(){const{item:t,instaImg:e,ugc_products:o,isVideoError:i,wall:a,custmClass:r,ImageUrl:s,videoUrl:l,active:c,showHotspot:p,mediaWidth:m,mediaHeight:g}=this.props,{loadedImg:_,mediaLoaded:v}=this.state;return(0,h.jsx)("div",{className:"tb_media_holder",children:c?(0,h.jsx)(h.Fragment,{children:2===t.type||4===t.type?(0,h.jsx)("div",{className:v?"":"sk_loader_product",children:(0,h.jsxs)("div",{className:"tb_img_holder",ref:this.myRef,onMouseEnter:()=>p({showAll:!0}),onMouseLeave:()=>p({showAll:!1}),style:{minHeight:v?null:g,minWidth:v?null:m},children:[2!=t.type&&4!=t.type||1!=t.hotspot||1!=t.ugc_personalizaion.UgcSetting.status?null:(0,h.jsx)(u.Z,{item:t,ugc_products:o,UgcSetting:t.ugc_personalizaion.UgcSetting}),(0,h.jsx)("img",{src:s,"data-src":s,onLoad:t=>this.setState({loadedImg:!0},(()=>this.updateMediaSize(t))),onError:t=>(0,n.bO)(t,(()=>{})),"data-network":t.networkId,"data-filter-id":t.filterId,"data-stories":t.stories,"data-load":"0","data-item-id":t.id,"data-wall-id":a.Wall.id,alt:"popupImg"}),_?(0,h.jsx)(h.Fragment,{children:" "}):(0,h.jsx)("div",{className:"sk_loader_product",children:(0,h.jsx)("div",{})})]})}):1===t.type?(0,h.jsx)(h.Fragment,{}):3===t.type||5===t.type?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"tb_img_holder",style:{minHeight:v?null:g,minWidth:v?null:m},children:(0,h.jsx)("img",{src:s,style:{opacity:0},onLoad:t=>this.setState({loadedImg:!0},(()=>this.updateMediaSize(t)))})}),(0,h.jsx)("div",{className:"tb_video_holder",style:{minHeight:v?null:g,minWidth:v?null:m},children:(0,h.jsx)(d(),{style:{display:"contents"},className:"tb-detail-image-iframe",url:l,"data-type":"video",config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto"}}},"data-stories":t.stories,"data-filter-id":t.filterId,"data-network":t.networkId,"data-link":t.link,"data-wall-id":a.Wall.id,"data-item-id":t.id,"data-load":0,onError:t=>{(0,n.b3)(t)},autoPlay:!0,muted:!0,playsinline:!0,loop:!0,playing:!0,controls:!0})})]}):(0,h.jsx)(h.Fragment,{})}):(0,h.jsxs)("div",{className:"tb_img_holder",ref:this.myRef,children:[(0,h.jsx)("img",{src:s,"data-src":s,onLoad:t=>this.setState({loadedImg:!0},(()=>this.updateMediaSize(t))),onError:t=>(0,n.bO)(t,(()=>{})),"data-network":t.networkId,"data-filter-id":t.filterId,"data-stories":t.stories,"data-load":"0","data-item-id":t.id,"data-wall-id":a.Wall.id,alt:"popupImg"}),2!=t.type&&4!=t.type||1!=t.hotspot||1!=t.ugc_personalizaion.UgcSetting.status?null:(0,h.jsx)(u.Z,{item:t,ugc_products:o,UgcSetting:t.ugc_personalizaion.UgcSetting})]})},"postID".concat(t.id))}}const _=(0,a.$j)((t=>({mediaHeight:t.modalPop.mediaHeight,mediaWidth:t.modalPop.mediaWidth})),(t=>({setMediaSize:e=>t({type:m.x0,payload:e}),showHotspot:e=>t((0,s.EG)(e))})))(g);var v=o(70816),f=o.n(v);o(2956);class b extends i.Component{render(){const{item:t,personalization:e,isAuthorImagevalid:o,onMediaUpdate:i,wall:a,networkData:r}=this.props,s=(l="#ffffff",c=a.ThemeRule.authorColor,d="#000000",(u=a.ThemeRule.cardColor)===l?l==c?d:c:u===d?d==c?l:c:l==c?d:c);var l,c,d,u;e.postTime;const p=t.author.isInstaUser,m=e.postAuthor,g=(r.icon.replace("fa-",""),505==a.ThemeRule.iconType?r.color:"#ffffff"==a.ThemeRule.iconColor?"rgba(63, 66, 72, 0.3)":a.ThemeRule.iconColor),_={color:s,textDecoration:"none"};"url(".concat(t.author.picture,")");return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"tb_post_author",children:[0!=m||4==e.commerceTheme?p?"":(0,h.jsxs)("div",{className:"tb_author_details",children:[(0,h.jsx)("div",{className:"tb_sc_author_profile",children:(0,h.jsx)("img",{src:t.author.picture,onError:e=>{e.target.onerror=null,e.target.src=t.author.errorPic},alt:"image"})}),(0,h.jsxs)("div",{className:"tb_author_detail_outer",children:[(0,h.jsx)("div",{className:"tb_author_usrname",style:_,children:(0,h.jsx)("a",{href:t.link,target:"_blank",className:"m_post_title",style:_,children:t.author.name})}),(0,h.jsx)("div",{className:"tb_author_info",children:(0,h.jsx)("div",{className:"tb_post_time",style:_,children:f()(new Date(1e3*t.createdAt)).fromNow()})})]})]}):"",(0,h.jsx)("div",{className:"tb_social_ico","data-network":r.name,children:(0,h.jsx)("div",{className:"tb__icon tb-".concat(r.icon.replace("fa-","")),style:{color:g},children:(0,h.jsx)("div",{children:"twitter"==r.icon.replace("fa-","")&&(0,h.jsx)(n.yi,{color:g})})})})]})})}}const w=b;var y=o(16390);o(77560);i.Component;var x=o(98501);const k=o(77560);class T extends i.Component{constructor(){super(...arguments),this.state={isTrimEnable:!1},this.onClickReadText=t=>{const{isTrimEnable:e}=this.state;this.setState({isTrimEnable:!e})}}render(){const{item:t,currentIndex:e,personalization:o,wall:i}=this.props,{isTrimEnable:a}=this.state,s={backgroundImage:"url(".concat(x.KA).concat(t.networkId,"/").concat(t.rating,".png)")},l=(1===t.hideContent&&1!==t.type&&16!=o.commerceTheme&&4!=o.commerceTheme||0==t.popupContent&&16==o.commerceTheme&&o.commerceTheme,{fontFamily:i.ThemeRule.css_font,fontSize:1==t.type?1==i.Personalization.textDecorate?i.ThemeRule.fontSizeDecorate:i.ThemeRule.fontSizeNormal:i.ThemeRule.fontSize,color:(c="#ffffff",d=i.ThemeRule.fontColor,u="#000000",p=i.ThemeRule.cardColor,p===c?c==d?u:d:p===u?u==d?c:d:c==d?u:d)});var c,d,u,p;let m=(0,n.Fx)(t.content),g=String(m).substring(0,200),_=a?m:g;return i&&i.ThemeRule&&Object.keys(i.ThemeRule).length>0&&(0,h.jsxs)("div",{className:"tb_post_content",children:[null!=t.rating&&0!=t.rating&&(0,h.jsxs)("div",{className:"tb_post_rating_wrap",children:[" ",(0,h.jsx)("div",{className:"tb_post_rating",style:s,children:(0,h.jsx)("div",{})})," "]}),(0,h.jsx)("div",{className:"tb_post_rating_wrap",children:" "}),t.popupContent?(0,h.jsxs)("div",{className:"tb_post_content001 ".concat(1===i.Personalization.textDecorate&&1===t.type?t.textDecoClass:"","   tb-cTSfont-").concat(i.ThemeRule.font_varient),style:l,children:[0!==i.Personalization.hashtag_highlight?1===i.Personalization.hashtag_all?k((0,y.ZP)(_),/#(\w+)/g,((t,e)=>(0,h.jsxs)("div",{className:"ts_popup_hash_tag",style:{color:i.Personalization.hashtag_color,fontWeight:"bold"},children:["#",t]},(0,r.Z)()))):1===i.Personalization.hashtag_feed?k((0,y.ZP)(_),t.hash.hashString,((t,e)=>(0,h.jsx)("div",{className:"ts_popup_hash_tag",style:{color:i.Personalization.hashtag_color,fontWeight:"bold"},children:t},(0,r.Z)()))):(0,y.ZP)(_):(0,y.ZP)(_),_.length>199?this.state.isTrimEnable?(0,h.jsx)("a",{className:"lesslink",onClick:this.onClickReadText,children:" Read Less"}):(0,h.jsx)("a",{className:"morelink",onClick:this.onClickReadText,children:" Read More..."}):""]}):""]})}}const j=T;class S extends i.PureComponent{constructor(){super(...arguments),this.onShareFacebook=t=>{const{item:e,wall:o}=this.props;var i="https://www.facebook.com/sharer/sharer.php?display=popup&u="+e.share.facebook;window.open(i,"sharer","toolbar=0,status=0,resizable=1,width=626,height=436")},this.onTwitterClick=t=>{const{item:e,wall:o}=this.props;t&&(0,s.S5)({type:2,action:2,wall:o.Wall.id,feed:e.feedId,post:e.referenceId})},this.linkedinShareCount=t=>{const{item:e,wall:o}=this.props;(0,s.S5)({type:2,action:2,wall:o.Wall.id,feed:e.feedId,post:e.referenceId})}}render(){const{wall:t,item:e}=this.props,o={color:505==t.ThemeRule.iconType?"":"#ffffff"==t.ThemeRule.iconColor?"rgba(63, 66, 72, 0.3)":t.ThemeRule.iconColor},i=505==t.ThemeRule.iconType?"":"#ffffff"==t.ThemeRule.iconColor?"rgba(63, 66, 72, 0.3)":t.ThemeRule.iconColor;return(0,h.jsx)("div",{className:"tb_post_footer",children:(0,h.jsxs)("div",{className:"tb_share_ico",children:[(0,h.jsx)("div",{className:"tb_share_ico_list",children:(0,h.jsx)("a",{onClick:this.onShareFacebook,className:"fbPanel",children:(0,h.jsx)("div",{className:"tb__icon tb-facebook-f",style:o,children:(0,h.jsx)("div",{})})})}),(0,h.jsx)("div",{className:"tb_share_ico_list",children:(0,h.jsx)("a",{onClick:this.onTwitterClick,href:e.share.twitter,className:"twPanel",target:"_blank",children:(0,h.jsx)("div",{className:"tb__icon tb-twitter",style:o,children:(0,h.jsx)("div",{children:(0,h.jsx)(n.yi,{color:i})})})})}),(0,h.jsx)("div",{className:"tb_share_ico_list",children:(0,h.jsx)("a",{onClick:this.linkedinShareCount,href:e.share.linkedin,target:"_blank",children:(0,h.jsx)("div",{className:"tb__icon tb-linkedin",style:o,children:(0,h.jsx)("div",{})})})}),e.networkId&&null!=e.link?(0,h.jsx)("div",{className:"tb_share_ico_list",children:(0,h.jsxs)("a",{href:e.link,className:"linkedinPanel",target:"_blank",children:[(0,h.jsx)("div",{className:"tb__icon tb-link",style:o,children:(0,h.jsx)("div",{})})," "]})}):null]})})}}class C extends i.Component{render(){const{item:t,networkData:e,wall:o}=this.props,i=t.ugc_personalizaion.UgcSetting,a=i&&Object.keys(i).length>0;return t.ugc_personalizaion&&i&&(0,h.jsxs)(p.q,{children:[a&&i.title_link_font?(0,h.jsx)("link",{href:"".concat(x.jN,"/").concat(i.title_link_font,".css"),rel:"stylesheet"}):null,a&&i.price_link_font?(0,h.jsx)("link",{href:"".concat(x.jN,"/").concat(i.price_link_font,".css"),rel:"stylesheet"}):null,a&&i.feature_link_font?(0,h.jsx)("link",{href:"".concat(x.jN,"/").concat(i.feature_link_font,".css"),rel:"stylesheet"}):null,a&&i.discount_link_font?(0,h.jsx)("link",{href:"".concat(x.jN,"/").concat(i.discount_link_font,".css"),rel:"stylesheet"}):null,a&&i.feature_link_font?(0,h.jsx)("link",{href:"".concat(x.jN,"/").concat(i.feature_link_font,".css"),rel:"stylesheet"}):null,a&&i.button_link_font?(0,h.jsx)("link",{href:"".concat(x.jN,"/").concat(i.button_link_font,".css"),rel:"stylesheet"}):null,(0,h.jsx)("style",{children:"\n        .tb_pro_title_user {font-family: ".concat(i.feature_css_font,"; font-size: ").concat(i.feature_font_size,"px; color: ").concat(i.feature_text_color,"}\n        .tb_author_avatar0012{background: ").concat(e.color,"!important}\n        .ugc-product-title{ font-family: ").concat(i.title_css_font,"!important; color: ").concat(i.product_title_color,"!important; font-size:").concat(i.product_title_font_size,"px!important}\n        .tb_pro_discount_price{ font-family: ").concat(i.discount_css_font,"!important; color: ").concat(i.discount_price_color,"!important; font-size:").concat(i.discount_price_font_size,"px!important}\n        .tb_pro_price{ font-family: ").concat(i.price_css_font,"!important; color: ").concat(i.original_price_color,"!important; font-size:").concat(i.original_price_font_size,"px!important}\n        .ugc-product-link a{ font-family: ").concat(i.button_css_font,"!important; color: ").concat(i.buy_now_color,"!important; font-size:").concat(i.buy_font_size,"px!important; background:").concat(i.buy_now_background,"!important;}\n        ")})]})}}class P extends i.Component{constructor(){super(...arguments),this.state={prdImgLoaded:!1,noImg:!1}}render(){const{imgUrl:t}=this.props,{prdImgLoaded:e,noImg:o}=this.state;return(0,h.jsxs)("div",{className:"ugc-product-images ".concat(o?"tb_popup_image":""),style:{display:o?"none":"block"},children:[(0,h.jsx)("img",{src:t,style:{height:"0%",display:"none"},onLoad:()=>this.setState({prdImgLoaded:!0}),onError:()=>this.setState({noImg:!0})}),e?(0,h.jsxs)("div",{className:"ugc_pro_img_holder ",style:{backgroundImage:"url(".concat(t,")")},children:[(0,h.jsx)("div",{})," "]}):(0,h.jsx)("div",{className:"sk_loader_product_thumb",children:(0,h.jsx)("div",{})})]})}}class N extends i.Component{constructor(){super(...arguments),this.state={prdImgLoaded:!1,noImg:!1},this.openUrl=t=>{var e;const{item:o,wall:i}=this.props,a=o.ugc_personalizaion.UgcSetting;var r=t;114259==(null===i||void 0===i||null===(e=i.User)||void 0===e?void 0:e.id)?r+="?utm_source=tagshop&utm_medium=gallery&utm_campaign=".concat(o.network.name):1==(null===i||void 0===i?void 0:i.Wall.utm_status)&&(r+="?utm_source=".concat(null===i||void 0===i?void 0:i.Wall.utm_source,"&utm_medium=").concat(null===i||void 0===i?void 0:i.Wall.utm_medium,"&utm_campaign=").concat(null===i||void 0===i?void 0:i.Wall.utm_campaign)),2==parseInt(a.tab_target)?window.parent.location.href=r:window.open(r,"_blank")},this.tracking=(t,e)=>{var o;(0,s.S5)({type:1,action:2,wall:null===t||void 0===t||null===(o=t.Wall)||void 0===o?void 0:o.id,product_id:e,post:this.props.item.referenceId})}}render(){const{item:t,ugc_products:e,wall:o,showHotspot:i,openAddtocart:a,productLoading:r,showAddToCart:s,onsetProductImg:n}=this.props,{prdImgLoaded:l,noImg:c}=this.state,d=t.ugc_personalizaion.UgcSetting,u=this.props.appData.wall.User.id;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"tb_shop_cont",children:[(0,h.jsx)("div",{className:"tb_pro_title tb_pro_title_user tb-cTSfont-".concat(d.feature_font_varient),children:(0,y.ZP)(d.feature_text)}),(0,h.jsx)("div",{className:"ts_modal_product tb_modal_pro",children:e.map(((e,l)=>(0,h.jsx)("div",{className:"tb_pro_item",children:(0,h.jsxs)("div",{className:"tb_pro_wrapp product-item-".concat(l),onMouseEnter:()=>i({showHotspot:!0,index:l,hotspotId:e.id}),onMouseLeave:()=>i({showHotspot:!1,index:l,hotspotId:e.id}),children:[(0,h.jsx)(P,{imgUrl:e.UgcProduct.product_image}),t.ugc_personalizaion&&d&&e.UgcProduct.product_title?(0,h.jsxs)("div",{className:"ugc-product-title tb-cTSfont-".concat(d.title_font_varient),children:[" ",e.UgcProduct.product_title]}):null,e.UgcProduct.product_price>0||e.UgcProduct.product_discount>0?(0,h.jsx)("div",{className:"ugc-product-price",children:(0,h.jsxs)("div",{className:"tb_pro_price tb-cTSfont-".concat(d.price_font_varient),children:[" ",e.UgcProduct.price_currency_symbol," ",e.UgcProduct.product_discount>0?e.UgcProduct.product_discount:e.UgcProduct.product_price]})}):null,e.UgcProduct.product_discount>0&&e.UgcProduct.product_discount!=e.UgcProduct.product_price?(0,h.jsxs)("div",{className:"tb_pro_discount_price  tb-cTSfont-".concat(d.discount_font_varient),children:[e.UgcProduct.price_currency_symbol," ",e.UgcProduct.product_price]}):null,r?(0,h.jsx)(h.Fragment,{}):s?(0,h.jsx)("div",{className:"ugc-product-link ".concat(30656==u?"homepage-ig-product-link":""),children:(0,h.jsx)("a",{onClick:()=>{a(e.id,e),n(e.UgcProduct.product_image),this.tracking(o,e.UgcProduct.id)},className:"tb-cTSfont-".concat(d.button_font_varient),children:d.buy_now_text})}):(0,h.jsx)("div",{className:"ugc-product-link ".concat(30656==u?"homepage-ig-product-link":""),children:(0,h.jsx)("a",{onClick:()=>{this.openUrl(e.UgcProduct.product_url),this.tracking(o,e.UgcProduct.id)},className:"tb-cTSfont-".concat(d.button_font_varient),target:o&&o.User&&"102810"!=o.User.id?"_blank":"",children:d.buy_now_text})})]})},l)))})]})})}}const z=(0,a.$j)((t=>({appData:t.appData})),(t=>({showHotspot:e=>t((0,s.EG)(e))})))(N);var H=o(69867);function D(t){t.style.setProperty("visibility","visible","important"),t.style.setProperty("opacity","1","important"),t.style.setProperty("display","flex","important")}class I extends i.PureComponent{render(){return(0,h.jsxs)("a",{href:x.Cx,target:"_blank",ref:t=>{t&&(t.style.setProperty("position","absolute","important"),t.style.setProperty("left","auto","important"),t.style.setProperty("right","0","important"),t.style.setProperty("bottom","0","important"),t.style.setProperty("align-items","center","important"),t.style.setProperty("padding","4px 0","important"),t.style.setProperty("display","flex","important"),t.style.setProperty("width","auto","important"),t.style.setProperty("text-decoration","none","important"),D(t))},children:[(0,h.jsx)("div",{ref:t=>{t&&(t.style.setProperty("font-size","14px","important"),t.style.setProperty("color","#fff","important"),t.style.setProperty("margin-right","6px","important"),t.style.setProperty("width","100%","important"),t.style.setProperty("height","auto","important"),D(t))},children:"Powered By"}),(0,h.jsx)("div",{ref:t=>{t&&(t.style.setProperty("background-image","url(https://cloud.taggbox.com/taggshop/assets/images/home-page/tagshop-logo-white.svg)","important"),t.style.setProperty("background-size","contain","important"),t.style.setProperty("background-position","left center","important"),t.style.setProperty("background-repeat","no-repeat","important"),t.style.setProperty("height","35px","important"),t.style.setProperty("min-height","35px","important"),t.style.setProperty("width","102px","important"),t.style.setProperty("min-width","102px","important"),D(t))}})]})}}o(46425);var L=o(11774);class U extends i.PureComponent{constructor(){super(...arguments),this.state={activeSlider:0},this.changeActive=t=>{this.setState({activeSlider:t})}}render(){const{item:t,instaImg:e,ugc_products:o,isVideoError:i,wall:a,data:r}=this.props,{activeSlider:s}=this.state;return(0,h.jsx)("div",{className:"tb_post_modal_media_wrapper___",children:(0,h.jsx)("div",{className:"tb_post_modal_slide_holder_",children:(0,h.jsxs)(L.tv,{hasTrack:!1,className:"tb_post_modal_media_slider",options:{rewind:!0,speed:1e3,gap:0,autoplay:!1,padding:0,pagination:!0,arrows:!0,focus:"center",Slide:"123456",classes:{pagination:"splide__pagination tb_modal_slider_dots",page:"splide__pagination__page tb_modal_slider_dot"}},ref:this.myRef,onMove:(t,e)=>{this.changeActive(e)},children:[(0,h.jsx)(L.Gj,{children:t.imageList.map(((t,r)=>(0,h.jsx)(L.jw,{style:{margin:0,padding:0},children:(0,h.jsx)("div",{className:"tb_post_modal_slide_list",children:(0,h.jsx)(_,{wall:a,item:t,instaImg:e,ugc_products:o,isVideoError:i,custmClass:"ts_popup_slider",ImageUrl:t.postFile,videoUrl:t.mediaFile,active:r==s})})},"psId".concat(r))))}),(0,h.jsxs)("div",{className:"splide__arrows splide__arrows--ltr tb_post_modal_arrow_wrapper_",children:[(0,h.jsx)("div",{className:"splide__arrow splide__arrow--prev tb_post_modal_arrow tb_post_modal_arrow_left__ tb__icon tb-chevron-left",children:(0,h.jsx)("div",{})}),(0,h.jsx)("div",{className:"splide__arrow splide__arrow--next  tb_post_modal_arrow tb_post_modal_arrow_right__ tb__icon  tb-chevron-right",children:(0,h.jsx)("div",{})})]})]})})})}}var M=o(87684),E=o(32626);class A extends i.Component{constructor(){super(...arguments),this.state={allSizes:null,allColors:null,selectedColor:null,selectedSize:null,availableSize:[],productImage:"",optionError:!1},this.getOptions=()=>{const{productDetails:t}=this.props;var e=[],o=[];if(t&&t.options&&t.options.length&&t.options.map((t=>{t.values&&t.values.length&&("color"==t.name.toLowerCase()&&(e=t.values,this.setState({selectedColor:t.values[0]})),"size"==t.name.toLowerCase()?o=t.values:(e=t.values,this.setState({selectedColor:t.values[0]})))})),this.setState({allSizes:o,allColors:e}),e&&e.length)o&&o.length&&this.checkAvablity(e[0]);else{var i=[];t.variants&&t.variants.length&&t.variants.map((t=>{t.available&&(i.includes(t.option1)||i.push(t.option1))})),this.setState({availableSize:i})}},this.checkAvablity=t=>{const{variants:e}=this.props.productDetails;this.getProductImage();var o=[];e.map((e=>{var i;e.option1.toLowerCase()==t.toLowerCase()&&e.available&&(o.includes(e.option2)||o.push(e.option2)),(null===(i=e.option2)||void 0===i?void 0:i.toLowerCase())==t.toLowerCase()&&e.available&&(o.includes(e.option1)||o.push(e.option1))})),this.setState({availableSize:o})},this.onAddToCart=()=>{console.log("addtocart");try{const{variants:t}=this.props.productDetails,{selectedColor:e,selectedSize:o,allColors:i,allSizes:a}=this.state;if((!o||""==o)&&a&&a.length)return this.setState({optionError:!0}),void console.log("optionError");1==t.length?(console.log("variants.length == 1"),this.props.onSelectedVariant(t[0]),this.addProductsToCart(t[0])):(console.log("else"),t.map((t=>{e&&e.length?(t.options.includes(e)&&t.options.includes(o)||t.options.includes(e))&&(this.props.onSelectedVariant(t),this.addProductsToCart(t)):t.options.includes(o)&&(this.props.onSelectedVariant(t),this.addProductsToCart(t))})))}catch(t){console.log("error",t)}},this.addProductsToCart=t=>{const{wall:e,productDetails:o,tagshopProductDeatil:i}=this.props,a=new FormData;a.append("id",t.id),a.append("quantity",1),(0,M.ki)(a).then((o=>{const a={variant:t.options?t.options.join(","):"",price:t.price/100,wall:"website"==E.q?e.Wall.wallId:e.Wall.id,website_id:"website"==E.q?e.Wall.id:0,product_id:i.ugc_product,quantity:1,post:i.post_id};(0,M.Ue)(a),this.props.onAddToCart()})).catch((t=>{this.props.onAddToCart()}))},this.getColorImage=t=>{const{productDetails:e}=this.props;if(t){var o;const i=e.variants.find((e=>e.options.includes(t)));return i.featured_image?null===(o=i.featured_image)||void 0===o?void 0:o.src:this.props.productImg}},this.getProductImage=()=>{const{productDetails:t}=this.props,{selectedColor:e}=this.state;if(e){var o;const i=t.variants.find((t=>t.options.includes(e)));this.setState({productImage:i.featured_image?null===(o=i.featured_image)||void 0===o?void 0:o.src:this.props.productImg})}else this.setState({productImage:t.featured_image})}}componentDidMount(){this.getOptions(),this.getProductImage()}render(){var t;const{closeAddtocart:e,languageSetting:o,productDetails:i,onSelectedVariant:a,productImg:r,tagshopProductDeatil:s}=this.props;console.log("this.props",this.props);const{allColors:n,allSizes:l,selectedColor:c,availableSize:d,selectedSize:u,productImage:p,optionError:m}=this.state;return(0,h.jsx)("div",{className:"ts_addToCart_modal","aria-hidden":"true",children:(0,h.jsx)("div",{className:"ts_addToCart_modalDialog",role:"document",children:(0,h.jsx)("div",{className:"ts_addToCart_modalContent",children:(0,h.jsxs)("div",{className:"ts_addToCart_modalBody",children:[(0,h.jsxs)("div",{className:"ts_addToCart_backButton",onClick:e,children:[(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"10",viewBox:"0 0 13 10",fill:"none",children:(0,h.jsx)("path",{d:"M12.3496 5.125C12.3496 5.58203 11.9941 5.9375 11.5625 5.9375H3.76758L6.43359 8.62891C6.76367 8.93359 6.76367 9.4668 6.43359 9.77148C6.28125 9.92383 6.07812 10 5.875 10C5.64648 10 5.44336 9.92383 5.29102 9.77148L1.22852 5.70898C0.898438 5.4043 0.898438 4.87109 1.22852 4.56641L5.29102 0.503906C5.5957 0.173828 6.12891 0.173828 6.43359 0.503906C6.76367 0.808594 6.76367 1.3418 6.43359 1.64648L3.76758 4.3125H11.5625C11.9941 4.3125 12.3496 4.69336 12.3496 5.125Z",fill:"#6D7175"})}),o.back]}),(0,h.jsxs)("div",{className:"ts_addToCart_modalBody_inner",children:[(0,h.jsx)("div",{className:"ts_addToCart_productImage",children:(0,h.jsx)("img",{src:p||x.O1,alt:"product img",onError:t=>this.setState({productImage:x.O1})})}),(0,h.jsxs)("div",{className:"ts_addToCart_productDetail",children:[(0,h.jsx)("div",{className:"ts_addToCart_productTitle",children:i.title}),(0,h.jsxs)("div",{className:"ts_addToCart_productPrice",children:[null===s||void 0===s||null===(t=s.UgcProduct)||void 0===t?void 0:t.price_currency_symbol,(null===s||void 0===s?void 0:s.UgcProduct.product_discount)>0?null===s||void 0===s?void 0:s.UgcProduct.product_discount:null===s||void 0===s?void 0:s.UgcProduct.product_price]}),m?(0,h.jsx)("div",{className:"ts_addToCart_selectOptionsError",children:o.addToCartError}):(0,h.jsx)(h.Fragment,{}),(0,h.jsx)("div",{className:"ts_addToCart_colorPalate_section",children:n&&n.length?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"ts_addToCart_colorHeading",children:[o.color,":"]}),(0,h.jsx)("div",{className:"ts_addToCart_colorPalate",children:n.map((t=>(0,h.jsx)("div",{className:"ts_addToCart_color ".concat(c==t?"active":""),children:(0,h.jsx)("div",{className:"ts_addToCart_colorTile",style:{backgroundColor:t},onClick:()=>this.setState({selectedColor:t},(()=>this.checkAvablity(t))),children:(0,h.jsx)("img",{src:this.getColorImage(t),style:{height:"100%",width:"100%"},onError:t=>t.target.src=x.O1})})})))})]}):(0,h.jsx)(h.Fragment,{})}),l&&l.length?(0,h.jsxs)("div",{className:"ts_addToCart_sizeChart",children:[(0,h.jsx)("div",{className:"ts_addToCart_sizeChart_label",children:o.size}),l.map((t=>d.includes(t)?(0,h.jsx)("div",{className:"ts_addToCart_sizebutton  ".concat(t==u?"active":""),onClick:()=>this.setState({selectedSize:t,optionError:!1}),children:t}):(0,h.jsxs)("div",{className:"ts_addToCart_sizebutton ts_productSize_unvavailable",children:[(0,h.jsx)("span",{className:"ts_productSize_unvavailable_cross"}),t]})))]}):(0,h.jsx)(h.Fragment,{}),(0,h.jsxs)("div",{className:"ts_addToCart_actions",children:[(0,h.jsx)("div",{className:"ts_addToCart_actions_cancel",onClick:e,children:o.cancel}),(0,h.jsx)("div",{className:"ts_addToCart_actions_addCart",onClick:this.onAddToCart,children:o.addToCart})]})]})]})]})})})})}}const W=(0,a.$j)((t=>({languageSetting:t.appData.languageSetting})),(t=>{}))(A);var V=o(35179);class O extends i.Component{constructor(){super(...arguments),this.state={cartItems:1}}componentDidMount(){(0,M.o2)().then((t=>{const{item_count:e}=t.data;e&&this.setState({cartItems:e})})).catch((t=>{}))}render(){var t;const{productDetails:e,closeAddtocart:o,productImg:i,tagshopProductDeatil:a,languageSetting:r}=this.props;return(0,h.jsx)("div",{className:"ts_addToCart_modal ts_checkout_modal","aria-hidden":"true",children:(0,h.jsx)("div",{className:"ts_addToCart_modalDialog",role:"document",children:(0,h.jsx)("div",{className:"ts_addToCart_modalContent",children:(0,h.jsxs)("div",{className:"ts_addToCart_modalBody",children:[(0,h.jsxs)("div",{className:"ts_addToCart_backButton",onClick:o,children:[(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"10",viewBox:"0 0 13 10",fill:"none",children:(0,h.jsx)("path",{d:"M12.3496 5.125C12.3496 5.58203 11.9941 5.9375 11.5625 5.9375H3.76758L6.43359 8.62891C6.76367 8.93359 6.76367 9.4668 6.43359 9.77148C6.28125 9.92383 6.07812 10 5.875 10C5.64648 10 5.44336 9.92383 5.29102 9.77148L1.22852 5.70898C0.898438 5.4043 0.898438 4.87109 1.22852 4.56641L5.29102 0.503906C5.5957 0.173828 6.12891 0.173828 6.43359 0.503906C6.76367 0.808594 6.76367 1.3418 6.43359 1.64648L3.76758 4.3125H11.5625C11.9941 4.3125 12.3496 4.69336 12.3496 5.125Z",fill:"#6D7175"})}),r.back]}),(0,h.jsxs)("div",{className:"ts_addToCart_modalBody_inner",children:[(0,h.jsx)("div",{className:"ts_addToCart_productImage",children:(0,h.jsx)("img",{src:e.featured_image?e.featured_image.src:i,alt:"product img",onError:t=>t.target.src=x.O1})}),(0,h.jsxs)("div",{className:"ts_addToCart_productDetail",children:[(0,h.jsx)("div",{className:"ts_addToCart_productTitle",children:e.name}),(0,h.jsxs)("div",{className:"ts_addToCart_productPrice",children:[null===a||void 0===a||null===(t=a.UgcProduct)||void 0===t?void 0:t.price_currency_symbol,(null===a||void 0===a?void 0:a.UgcProduct.product_discount)>0?null===a||void 0===a?void 0:a.UgcProduct.product_discount:null===a||void 0===a?void 0:a.UgcProduct.product_price]}),this.state.cartItems?(0,h.jsx)("div",{className:"ts_addToCart_product_added",children:r.cartItem.replace("*",this.state.cartItems)}):(0,h.jsx)(h.Fragment,{}),(0,h.jsxs)("div",{className:"ts_addToCart_actions",children:[(0,h.jsx)("div",{className:"ts_addToCart_actions_checkOut",onClick:()=>window.location="".concat(V.Yh,"/cart"),children:r.proceedToCheckout}),(0,h.jsx)("div",{className:"ts_addToCart_actions_shopping",onClick:o,children:r.continueShopping})]})]})]})]})})})})}}const R=(0,a.$j)((t=>({languageSetting:t.appData.languageSetting})),(t=>{}))(O),F=t=>{let{item:e,personalization:o,currentIndex:i,ugc_products:a,wall:r,onsetProductImg:s,openAddtocart:n,showAddToCart:l,productLoading:c}=t;return(0,h.jsx)(h.Fragment,{children:e.ugc_personalizaion.UgcSetting&&1==e.ugc_personalizaion.UgcSetting.status&&1==o.themeType&&e.ugc_products&&Object.keys(e.ugc_products).length>0?(0,h.jsxs)("div",{className:"tb_post_wrap_in",children:[(0,h.jsx)(z,{wall:r,item:e,personalization:o,currentIndex:i,ugc_products:a,openAddtocart:n,showAddToCart:l,productLoading:c,onsetProductImg:s})," "]}):null})};class B extends i.PureComponent{constructor(){super(...arguments),this.state={currentIndex:this.props.currentIndex,item:this.props.item,isVideoError:!1,windowWidth:window.innerWidth,isAuthorImagevalid:!0,instaImg:(0,n.TI)(this.props.imgData,this.props.item.link),isHotspot:!1,addtoCartPopup:!1,allProductDetails:null,selectedProductId:null,selectedProductDetails:null,continueShopping:!1,selectedVariant:null,showAddToCart:!1,productLoading:!0,productImg:"",tagshopProductDeatil:null,played:0},this.onErrorVideo=t=>this.setState({isVideoError:!0}),this.onMediaUpdate=t=>this.setState({isAuthorImagevalid:!1}),this.onAddToCart=(t,e)=>{this.setState({selectedProductDetails:this.state.allProductDetails[t],tagshopProductDeatil:e})},this.handleProgress=t=>{this.setState({played:t.played})}}componentDidMount(){const{currentIndex:t,item:e,slideWithArrowKeys:o}=this.props,i=(0,n.uB)(e.author.picture);this.setState({currentIndex:t,item:e,isAuthorImagevalid:i,instaImg:(0,n.TI)(this.props.imgData,this.props.item.link)});var a=document.querySelector("#modalPost0");a&&a.focus();var r={};setTimeout((()=>{e&&e.ugc_products&&e.ugc_products.length&&(e.ugc_products.map((t=>{(0,M.uD)(t.UgcProduct.product_url).then((e=>{e.data.id?(r[t.id]=e.data,this.setState({showAddToCart:!0,productLoading:!1})):this.setState({showAddToCart:!1,productLoading:!1})})).catch((t=>{this.setState({showAddToCart:!1,productLoading:!1})}))})),this.setState({allProductDetails:r}))}),500),document.addEventListener("keydown",o,{passive:!0})}componentWillReceiveProps(t){const{currentIndex:e,item:o}=t,i=(0,n.uB)(o.author.picture);this.setState({currentIndex:e,item:o,isVideoError:!1,isAuthorImagevalid:i,instaImg:(0,n.TI)(this.props.imgData,this.props.item.link)})}render(){const{personalization:t,onClosePopUp:e,featuredPopSliderChangeIndex:o,slideWithArrowKeys:i,hostUrl:a,viewOnText:r,platform:s,wall:c,webFilters:d}=this.props,{currentIndex:u,item:p,isVideoError:m,windowWidth:g,instaImg:v,addtoCartPopup:f,allProductDetails:b,selectedProductId:y,selectedProductDetails:x,continueShopping:k,selectedVariant:T,showAddToCart:P,productImg:N,productLoading:z,tagshopProductDeatil:D,played:L}=this.state,M=(0,n.HS)(p.ugc_products),E=(0,n.EH)(p.networkId,d),A={backgroundColor:c.ThemeRule.cardColor};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(C,{wall:c,item:p,networkData:E}),f?x&&!k?(0,h.jsx)(W,{productImg:N,addtoCartPopup:f,productDetails:x,tagshopProductDeatil:D,closeAddtocart:()=>this.setState({addtoCartPopup:!1,selectedProductDetails:null}),onAddToCart:()=>this.setState({continueShopping:!0}),onSelectedVariant:t=>this.setState({selectedVariant:t}),wall:c}):(0,h.jsx)(h.Fragment,{}):(0,h.jsx)("div",{className:"modalId".concat(p.id," tb_modal_001 tb_fade ").concat(4==p.type||5==p.type||p.ugc_products&&Object.keys(p.ugc_products).length>0&&1!=p.type?"modal-text-image":2==p.type||3==p.type?"modal-only-image":"modal-only-text"),onKeyDown:i,onKeyPress:i,onLoad:i,onClick:t=>t.currentTarget==t.target&&e(t),children:(0,h.jsx)("div",{className:"tb_modal_dialog taggModal",children:(0,h.jsxs)("div",{className:"tb_conetent",children:[(0,h.jsxs)("div",{className:"tb_modal_head",children:[(0,h.jsxs)("div",{className:"tb_modal_header",children:[(0,h.jsx)("div",{className:"tb_post_link_small",children:(0,h.jsx)("div",{className:"tb_post_address",children:(0,h.jsxs)("a",{className:"Instagram Business",target:"_blank",href:p.link,children:[(0,h.jsxs)("span",{children:[r," ",E.name]}),(0,h.jsxs)("svg",{id:"Group_4485","data-name":"Group 4485",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,h.jsx)("rect",{id:"Rectangle_2094","data-name":"Rectangle 2094",width:"48",height:"48",fill:"none",opacity:"0"}),(0,h.jsx)("g",{id:"Group",transform:"translate(7.954 4.094)",children:(0,h.jsx)("path",{id:"Path",d:"M33.729,21.333a1.094,1.094,0,0,1,1.559,0l6.837,6.837a1.094,1.094,0,0,1,0,1.559l-6.837,6.837a1.1,1.1,0,0,1-1.559-1.559l6.044-6.072-6.044-6.072a1.094,1.094,0,0,1,0-1.53Z",transform:"translate(-33.407 -21.007)",fill:"#545454"})})]})]})})}),(0,h.jsx)("div",{className:"tb_close_wrap",children:(0,h.jsx)("div",{className:"tb_close_btn","data-dismiss":"modal",onClick:e,children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:(0,h.jsx)("path",{d:"M19.457 18.8906C19.1055 19.2422 18.4609 19.2422 18.1094 18.8906L10.375 11.0977L2.58203 18.8906C2.23047 19.2422 1.58594 19.2422 1.23438 18.8906C0.882812 18.5391 0.882812 17.8945 1.23438 17.543L9.02734 9.75L1.23438 2.01562C0.882812 1.66406 0.882812 1.01953 1.23438 0.667969C1.58594 0.316406 2.23047 0.316406 2.58203 0.667969L10.375 8.46094L18.1094 0.667969C18.4609 0.316406 19.1055 0.316406 19.457 0.667969C19.8086 1.01953 19.8086 1.66406 19.457 2.01562L11.6641 9.75L19.457 17.543C19.8086 17.8945 19.8086 18.5391 19.457 18.8906Z",fill:"white"})})})})]}),1==t.popupSlideShow?(0,h.jsxs)("div",{className:"tb_navigation tb_nav_content",children:[(0,h.jsx)("div",{className:"tb_nav tb_prev_btn",onClick:o(u-1),children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"27",viewBox:"0 0 15 27",fill:"none",children:(0,h.jsx)("path",{d:"M13.7109 0.917964C13.9453 1.09375 14.0039 1.32812 14.0039 1.5625C14.0039 1.79687 13.9453 2.03125 13.7695 2.20703L3.10547 13.75L13.7109 25.3516C14.0625 25.7031 14.0625 26.2891 13.6523 26.6406C13.3008 26.9922 12.7148 26.9922 12.3633 26.582L1.11328 14.3945C0.761719 14.043 0.761719 13.5156 1.11328 13.1641L12.3633 0.976558C12.7734 0.566402 13.3594 0.566402 13.7109 0.917964Z",fill:"white"})})}),(0,h.jsx)("div",{className:"tb_nav tb_nxt_btn",id:"wq12",onClick:o(u+1),children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"27",viewBox:"0 0 14 27",fill:"none",children:(0,h.jsx)("path",{d:"M0.980469 26.6406C0.746094 26.4648 0.628906 26.2305 0.628906 25.9961C0.628906 25.7617 0.746094 25.5273 0.921875 25.3516L11.5273 13.8086L0.921875 2.20703C0.570312 1.85546 0.570312 1.26953 0.980469 0.917964C1.33203 0.566402 1.91797 0.566402 2.26953 0.976558L13.5195 13.1641C13.8711 13.5156 13.8711 14.043 13.5195 14.3945L2.26953 26.582C1.91797 26.9922 1.33203 26.9922 0.980469 26.6406Z",fill:"white"})})})]}):null]}),(0,h.jsx)("div",{className:"tb_modal_body",children:(0,h.jsxs)("div",{className:"tb_modal_body_wrap",children:[(0,h.jsx)("div",{className:"ts_reel_progress_bar",style:{width:"".concat(100*L,"%")}}),(0,h.jsxs)("div",{className:"tb_details_left tb_modal_network-".concat(p.networkId),children:[1==t.popupSlideShow?(0,h.jsxs)("div",{className:"tb_navigation tb_nav_img",children:[(0,h.jsx)("div",{className:"tb_nav tb_prev_btn",onClick:o(u-1),children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"27",viewBox:"0 0 15 27",fill:"none",children:(0,h.jsx)("path",{d:"M13.7109 0.917964C13.9453 1.09375 14.0039 1.32812 14.0039 1.5625C14.0039 1.79687 13.9453 2.03125 13.7695 2.20703L3.10547 13.75L13.7109 25.3516C14.0625 25.7031 14.0625 26.2891 13.6523 26.6406C13.3008 26.9922 12.7148 26.9922 12.3633 26.582L1.11328 14.3945C0.761719 14.043 0.761719 13.5156 1.11328 13.1641L12.3633 0.976558C12.7734 0.566402 13.3594 0.566402 13.7109 0.917964Z",fill:"white"})})}),(0,h.jsx)("div",{className:"tb_nav tb_nxt_btn ",onClick:o(u+1),children:(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"27",viewBox:"0 0 14 27",fill:"none",children:(0,h.jsx)("path",{d:"M0.980469 26.6406C0.746094 26.4648 0.628906 26.2305 0.628906 25.9961C0.628906 25.7617 0.746094 25.5273 0.921875 25.3516L11.5273 13.8086L0.921875 2.20703C0.570312 1.85546 0.570312 1.26953 0.980469 0.917964C1.33203 0.566402 1.91797 0.566402 2.26953 0.976558L13.5195 13.1641C13.8711 13.5156 13.8711 14.043 13.5195 14.3945L2.26953 26.582C1.91797 26.9922 1.33203 26.9922 0.980469 26.6406Z",fill:"white"})})})]}):null,p.file?p.imageList&&p.imageList.length>0?(0,h.jsx)(U,{wall:c,item:p,instaImg:v,ugc_products:M,isVideoError:m}):(0,h.jsx)(_,{wall:c,item:p,instaImg:v,ugc_products:M,isVideoError:m,custmClass:"tb_media_wrap_002",ImageUrl:p.file,videoUrl:p.mediaUrl,active:!0,handleProgress:this.handleProgress}):""]}),(0,h.jsx)("div",{className:"tb_details_right",style:A,children:(0,h.jsx)("div",{className:"tb_content_wrap",children:(0,h.jsxs)("div",{className:"tb_post_detail_wrap",children:[g<991?(0,h.jsx)("div",{className:"tb_post_wrapper",children:(0,h.jsxs)("div",{className:"tb_modal_content_001",children:[(0,h.jsx)(F,{item:p,wall:c,personalization:t,currentIndex:u,ugc_products:M,onsetProductImg:t=>this.setState({productImg:t}),openAddtocart:(t,e)=>this.setState({addtoCartPopup:!0},(()=>this.onAddToCart(t,e))),showAddToCart:P,productLoading:z}),(0,h.jsx)(w,{item:p,personalization:t,isAuthorImagevalid:this.state.isAuthorImagevalid,onMediaUpdate:this.onMediaUpdate,wall:c,networkData:E}),(0,h.jsx)(H.Z,{children:(0,h.jsx)(j,{item:p,personalization:t,currentIndex:u,wall:c})})]})}):(0,h.jsx)(l.$B,{autoHide:!0,autoHeightMax:200,className:"tb_post_wrapper",renderTrackHorizontal:t=>(0,h.jsx)("div",{...t,className:"track-horizontal",style:{display:"none"}}),children:(0,h.jsxs)("div",{className:"tb_modal_content_001",children:[(0,h.jsx)(F,{item:p,wall:c,personalization:t,currentIndex:u,ugc_products:M,onsetProductImg:t=>this.setState({productImg:t}),openAddtocart:(t,e)=>this.setState({addtoCartPopup:!0},(()=>this.onAddToCart(t,e))),showAddToCart:P,productLoading:z}),(0,h.jsx)(w,{item:p,personalization:t,isAuthorImagevalid:this.state.isAuthorImagevalid,onMediaUpdate:this.onMediaUpdate,wall:c,networkData:E}),(0,h.jsx)(H.Z,{children:(0,h.jsx)(j,{item:p,personalization:t,currentIndex:u,wall:c})})]})}),c.ThemeRule.socialAction?(0,h.jsx)(S,{wall:c,item:p}):""]})})})]})}),c&&c.UserRule&&"1"==c.UserRule.taggBranding?(0,h.jsx)(I,{}):""]})})}),k?(0,h.jsx)(R,{productImg:N,addtoCartPopup:f,productDetails:T,tagshopProductDeatil:D,closeAddtocart:()=>this.setState({addtoCartPopup:!1,continueShopping:!1,selectedProductDetails:null})}):(0,h.jsx)(h.Fragment,{})]})}}const Z=(0,i.lazy)((()=>Promise.all([o.e(552),o.e(385)]).then(o.bind(o,73385))));class q extends i.PureComponent{constructor(){super(...arguments),this.state={isEnable:0,eventData:{},shareText:"SHARE",viewOnText:"View on",currentIndex:null,completeData:{},personalization:{},url:null,platform:null,imgData:[],type:""},this.closeCommercePopUP=t=>{(0,n.st)("remove"),this.setState({isEnable:0,currentIndex:null,type:""}),this.props.closePopUP();var e=document.getElementsByTagName("html");e&&e[0]&&(e[0].style.overflow="")},this.getCommercePopUPEvent=t=>{void 0!==t&&""!==t&&t.card&&("post"===t.type?this.setState({url:"",isEnable:1,eventData:t,currentIndex:t.index,completeData:t.idArray,viewOnText:t.viewOnText,shareText:t.shareText,windowParent:t,imgData:t.imgData,personalization:t.personalization,type:t.type},(()=>this.CommercePopUPSlideWithArrowKey())):"submit-pic"===t.type&&this.setState({isEnable:1,type:t.type,windowParent:t}))},this.featuredPopSliderChangeIndex=t=>e=>{const{eventData:o}=this.state;-1===t?this.setState({currentIndex:o.idArray.length-1}):this.setState({currentIndex:o.idArray.length===t?0:t})},this.SliderWithKey=t=>{const{eventData:e}=this.state;-1===t?this.setState({currentIndex:e.idArray.length-1}):this.setState({currentIndex:e.idArray.length===t?0:t})},this.CommercePopUPSlideWithArrowKey=t=>{const{personalization:e}=this.state;if(e&&1===e.popupSlideShow){let e=this;(t=t||window.event)&&t.keyCode&&void 0!==t.keyCode&&(37===t.keyCode?e.SliderWithKey(e.state.currentIndex-1):39===t.keyCode?e.SliderWithKey(e.state.currentIndex+1):27===t.keyCode&&this.closeCommercePopUP())}}}componentDidMount(){const{data:t}=this.props;this.getCommercePopUPEvent(t);var e=document.getElementsByTagName("html");e&&e[0]&&(e[0].style.overflow="hidden")}render(){const{viewOnText:t,isEnable:e,currentIndex:o,personalization:a,completeData:s,eventData:n,url:l,platform:c,imgData:d,type:u}=this.state;let p=null;"post"===u&&(p=-1===o?s[n.idArray.length-1]:s[o]);const{wall:m,webFilters:g}=this.props;return 1===e&&m&&"submit-pic"===u?(0,h.jsx)(i.Suspense,{fallback:null,children:(0,h.jsx)(Z,{wall:m,wallId:m.Wall.id,onClosePopUp:this.closeCommercePopUP})}):1===e&&"post"===u?(0,h.jsx)(B,{webFilters:g,wall:m,item:p,onClosePopUp:this.closeCommercePopUP,currentIndex:o,personalization:a,viewOnText:t,slideWithArrowKeys:this.CommercePopUPSlideWithArrowKey,featuredPopSliderChangeIndex:this.featuredPopSliderChangeIndex,hostUrl:l,platform:c,imgData:d},(0,r.Z)()):null}}const K=(0,a.$j)((t=>({wall:t.appData.wall,webFilters:t.appData.webFilters})),(t=>({closePopUP:e=>t((0,s.zj)(e))})))(q)},2956:(t,e,o)=>{"use strict";o(47313),o(46417)},29335:(t,e,o)=>{"use strict";o.d(e,{Z:()=>r});o(47313);var i=o(59204),a=o(46417);function r(t){const{ugc_products:e,UgcSetting:o,item:r,isPopUp:s=!1}=t,n={background:o?o.hotspot_color:null},l={background:o?o.hotspot_color:null,color:o?o.hotspot_type_color:null},c=(0,i.v9)((t=>t.modalPop)),d=t=>e=>{2==parseInt(o.tab_target)?window.parent.location.href=t:window.open(t,"_blank")};return(0,a.jsx)("div",{className:"ts__post_hotspot",children:e.map(((t,e)=>{let i=parseInt(t.hotspot_cordinates.top),s=parseInt(t.hotspot_cordinates.left);const u=t.UgcProduct.product_discount>0?r.ugc_personalizaion.UgcSetting.discount_price_color:r.ugc_personalizaion.UgcSetting.original_price_color;let h={top:i<"30"||i<"70"&&i>"30"?"18px":"auto",left:s<"30"?"18px":s<"70"&&s>"30"?"-25px":"auto",bottom:i<"30"||i<"70"&&i>"30"?"auto":"18px",right:s<"30"||s<"70"&&s>"30"?"auto":"15px"};return(0,a.jsx)("div",{className:"ts_st_post_hotspot_icon",style:{top:t.hotspot_cordinates.top,left:t.hotspot_cordinates.left},children:1==o.hotspot_type?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{onClick:d(t.UgcProduct.product_url),className:"ts_st_post_hotspot_icon_blob_outer ts_st_post_numberHotspot",children:c.showAll||!c.isShowPopUp||c.showHotspot&&c.index==e&&c.hotspotId==t.id?(0,a.jsxs)("div",{className:"ts_st_post_hotspot_icon_blob_custom",id:"ts_st_post_hotspot_icon_blob".concat(e),style:{...l,textAlign:"center"},children:[" ",e+1]}):null}),c.showAll||!c.isShowPopUp||c.showHotspot&&c.index==e&&c.hotspotId==t.id?(0,a.jsxs)("div",{className:"".concat(c.showAll?"ts_st_post_hotspot_icon_hover":"ts_st_post_hotspot_icon_hover_custom "," ").concat(c.isShowPopUp?"":"ts_st_post_hotspot_icon_hover"),style:h,children:[(0,a.jsx)("div",{className:"ts_st_post_hotspot_icon_hover_p_name",children:t.UgcProduct.product_title}),(0,a.jsxs)("div",{style:{color:u},className:"ts_st_post_hotspot_icon_hover_act_price ".concat(t.UgcProduct.product_discount>0?"ts_st_post_hotspot_icon_hover_act_prise_diabled":""),children:[t.UgcProduct.price_currency_symbol," "," ",t.UgcProduct.product_price]}),t.UgcProduct.product_discount>0?(0,a.jsxs)("div",{className:"ts_st_post_hotspot_icon_hover_dis_price",style:{color:r.ugc_personalizaion.UgcSetting.original_price_color},children:[t.UgcProduct.price_currency_symbol," "," ",t.UgcProduct.product_discount]}):""]}):null]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{onClick:d(t.UgcProduct.product_url),className:"ts_st_post_hotspot_icon_blob_outer",children:(0,a.jsx)("div",{className:"ts_st_post_hotspot_icon_blob",style:n,children:(0,a.jsx)("div",{})})}),(0,a.jsxs)("div",{className:"ts_st_post_hotspot_icon_hover ",style:h,children:[(0,a.jsx)("div",{className:"ts_st_post_hotspot_icon_hover_p_name",children:t.UgcProduct.product_title}),(0,a.jsxs)("div",{style:{color:u},className:"ts_st_post_hotspot_icon_hover_act_price ".concat(t.UgcProduct.product_discount>0?"ts_st_post_hotspot_icon_hover_act_prise_diabled":""),children:[t.UgcProduct.price_currency_symbol," "," ",t.UgcProduct.product_price]}),t.UgcProduct.product_discount>0?(0,a.jsxs)("div",{className:"ts_st_post_hotspot_icon_hover_dis_price",style:{color:r.ugc_personalizaion.UgcSetting.original_price_color},children:[t.UgcProduct.price_currency_symbol," "," ",t.UgcProduct.product_discount," "]}):""]})]})},e)}))})}},20279:t=>{var e={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};t.exports=function(t,o){return"number"!==typeof o||e[t]?o:o+"px"}},43580:(t,e,o)=>{var i=o(28210),a=o(12312),r={float:"cssFloat"},s=o(20279);function n(t,e,o){var n=r[e];if("undefined"===typeof n&&(n=function(t){var e=a(t),o=i(e);return r[e]=r[t]=r[o]=o,o}(e)),n){if(void 0===o)return t.style[n];t.style[n]=s(n,o)}}function l(){2===arguments.length?"string"===typeof arguments[1]?arguments[0].style.cssText=arguments[1]:function(t,e){for(var o in e)e.hasOwnProperty(o)&&n(t,o,e[o])}(arguments[0],arguments[1]):n(arguments[0],arguments[1],arguments[2])}t.exports=l,t.exports.set=l,t.exports.get=function(t,e){return Array.isArray(e)?e.reduce((function(e,o){return e[o]=n(t,o||""),e}),{}):n(t,e||"")}},3460:function(t){(function(){var e,o,i,a,r,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(t.exports=function(){return(e()-r)/1e6},o=process.hrtime,a=(e=function(){var t;return 1e9*(t=o())[0]+t[1]})(),s=1e9*process.uptime(),r=a-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)},28210:t=>{var e=null,o=["Webkit","Moz","O","ms"];t.exports=function(t){e||(e=document.createElement("div"));var i=e.style;if(t in i)return t;for(var a=t.charAt(0).toUpperCase()+t.slice(1),r=o.length;r>=0;r--){var s=o[r]+a;if(s in i)return s}return!1}},44903:(t,e,o)=>{for(var i=o(3460),a="undefined"===typeof window?o.g:window,r=["moz","webkit"],s="AnimationFrame",n=a["request"+s],l=a["cancel"+s]||a["cancelRequest"+s],c=0;!n&&c<r.length;c++)n=a[r[c]+"Request"+s],l=a[r[c]+"Cancel"+s]||a[r[c]+"CancelRequest"+s];if(!n||!l){var d=0,u=0,h=[];n=function(t){if(0===h.length){var e=i(),o=Math.max(0,16.666666666666668-(e-d));d=o+e,setTimeout((function(){var t=h.slice(0);h.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(d)}catch(o){setTimeout((function(){throw o}),0)}}),Math.round(o))}return h.push({handle:++u,callback:t,cancelled:!1}),u},l=function(t){for(var e=0;e<h.length;e++)h[e].handle===t&&(h[e].cancelled=!0)}}t.exports=function(t){return n.call(a,t)},t.exports.cancel=function(){l.apply(a,arguments)},t.exports.polyfill=function(t){t||(t=a),t.requestAnimationFrame=n,t.cancelAnimationFrame=l}},21945:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t};e.renderViewDefault=function(t){return s.default.createElement("div",t)},e.renderTrackHorizontalDefault=function(t){var e=t.style,o=n(t,["style"]),a=i({},e,{right:2,bottom:2,left:2,borderRadius:3});return s.default.createElement("div",i({style:a},o))},e.renderTrackVerticalDefault=function(t){var e=t.style,o=n(t,["style"]),a=i({},e,{right:2,bottom:2,top:2,borderRadius:3});return s.default.createElement("div",i({style:a},o))},e.renderThumbHorizontalDefault=function(t){var e=t.style,o=n(t,["style"]),a=i({},e,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return s.default.createElement("div",i({style:a},o))},e.renderThumbVerticalDefault=function(t){var e=t.style,o=n(t,["style"]),a=i({},e,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return s.default.createElement("div",i({style:a},o))};var a,r=o(47313),s=(a=r)&&a.__esModule?a:{default:a};function n(t,e){var o={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o}},22305:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},a=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=o(44903),s=v(r),n=v(o(43580)),l=o(47313),c=v(o(75192)),d=v(o(34392)),u=v(o(59865)),h=v(o(74630)),p=v(o(82370)),m=v(o(10109)),g=o(1189),_=o(21945);function v(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var i=arguments.length,a=Array(i>1?i-1:0),r=1;r<i;r++)a[r-1]=arguments[r];var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(o=e.__proto__||Object.getPrototypeOf(e)).call.apply(o,[this,t].concat(a)));return s.getScrollLeft=s.getScrollLeft.bind(s),s.getScrollTop=s.getScrollTop.bind(s),s.getScrollWidth=s.getScrollWidth.bind(s),s.getScrollHeight=s.getScrollHeight.bind(s),s.getClientWidth=s.getClientWidth.bind(s),s.getClientHeight=s.getClientHeight.bind(s),s.getValues=s.getValues.bind(s),s.getThumbHorizontalWidth=s.getThumbHorizontalWidth.bind(s),s.getThumbVerticalHeight=s.getThumbVerticalHeight.bind(s),s.getScrollLeftForOffset=s.getScrollLeftForOffset.bind(s),s.getScrollTopForOffset=s.getScrollTopForOffset.bind(s),s.scrollLeft=s.scrollLeft.bind(s),s.scrollTop=s.scrollTop.bind(s),s.scrollToLeft=s.scrollToLeft.bind(s),s.scrollToTop=s.scrollToTop.bind(s),s.scrollToRight=s.scrollToRight.bind(s),s.scrollToBottom=s.scrollToBottom.bind(s),s.handleTrackMouseEnter=s.handleTrackMouseEnter.bind(s),s.handleTrackMouseLeave=s.handleTrackMouseLeave.bind(s),s.handleHorizontalTrackMouseDown=s.handleHorizontalTrackMouseDown.bind(s),s.handleVerticalTrackMouseDown=s.handleVerticalTrackMouseDown.bind(s),s.handleHorizontalThumbMouseDown=s.handleHorizontalThumbMouseDown.bind(s),s.handleVerticalThumbMouseDown=s.handleVerticalThumbMouseDown.bind(s),s.handleWindowResize=s.handleWindowResize.bind(s),s.handleScroll=s.handleScroll.bind(s),s.handleDrag=s.handleDrag.bind(s),s.handleDragEnd=s.handleDragEnd.bind(s),s.state={didMountUniversal:!1},s}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),a(e,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,r.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var t=this.view||{},e=t.scrollLeft,o=void 0===e?0:e,i=t.scrollTop,a=void 0===i?0:i,r=t.scrollWidth,s=void 0===r?0:r,n=t.scrollHeight,l=void 0===n?0:n,c=t.clientWidth,d=void 0===c?0:c,u=t.clientHeight,h=void 0===u?0:u;return{left:o/(s-d)||0,top:a/(l-h)||0,scrollLeft:o,scrollTop:a,scrollWidth:s,scrollHeight:l,clientWidth:d,clientHeight:h}}},{key:"getThumbHorizontalWidth",value:function(){var t=this.props,e=t.thumbSize,o=t.thumbMinSize,i=this.view,a=i.scrollWidth,r=i.clientWidth,s=(0,p.default)(this.trackHorizontal),n=Math.ceil(r/a*s);return s===n?0:e||Math.max(n,o)}},{key:"getThumbVerticalHeight",value:function(){var t=this.props,e=t.thumbSize,o=t.thumbMinSize,i=this.view,a=i.scrollHeight,r=i.clientHeight,s=(0,m.default)(this.trackVertical),n=Math.ceil(r/a*s);return s===n?0:e||Math.max(n,o)}},{key:"getScrollLeftForOffset",value:function(t){var e=this.view,o=e.scrollWidth,i=e.clientWidth;return t/((0,p.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(o-i)}},{key:"getScrollTopForOffset",value:function(t){var e=this.view,o=e.scrollHeight,i=e.clientHeight;return t/((0,m.default)(this.trackVertical)-this.getThumbVerticalHeight())*(o-i)}},{key:"scrollLeft",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=t)}},{key:"scrollTop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=t)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!==typeof document&&this.view){var t=this.view,e=this.trackHorizontal,o=this.trackVertical,i=this.thumbHorizontal,a=this.thumbVertical;t.addEventListener("scroll",this.handleScroll),(0,u.default)()&&(e.addEventListener("mouseenter",this.handleTrackMouseEnter),e.addEventListener("mouseleave",this.handleTrackMouseLeave),e.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),o.addEventListener("mouseenter",this.handleTrackMouseEnter),o.addEventListener("mouseleave",this.handleTrackMouseLeave),o.addEventListener("mousedown",this.handleVerticalTrackMouseDown),i.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),a.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!==typeof document&&this.view){var t=this.view,e=this.trackHorizontal,o=this.trackVertical,i=this.thumbHorizontal,a=this.thumbVertical;t.removeEventListener("scroll",this.handleScroll),(0,u.default)()&&(e.removeEventListener("mouseenter",this.handleTrackMouseEnter),e.removeEventListener("mouseleave",this.handleTrackMouseLeave),e.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),o.removeEventListener("mouseenter",this.handleTrackMouseEnter),o.removeEventListener("mouseleave",this.handleTrackMouseLeave),o.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),i.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),a.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(t){var e=this,o=this.props,i=o.onScroll,a=o.onScrollFrame;i&&i(t),this.update((function(t){var o=t.scrollLeft,i=t.scrollTop;e.viewScrollLeft=o,e.viewScrollTop=i,a&&a(t)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var t=this.props.onScrollStart;t&&t(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var t=this.props.onScrollStop;t&&t(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(t){t.preventDefault();var e=t.target,o=t.clientX,i=e.getBoundingClientRect().left,a=this.getThumbHorizontalWidth(),r=Math.abs(i-o)-a/2;this.view.scrollLeft=this.getScrollLeftForOffset(r)}},{key:"handleVerticalTrackMouseDown",value:function(t){t.preventDefault();var e=t.target,o=t.clientY,i=e.getBoundingClientRect().top,a=this.getThumbVerticalHeight(),r=Math.abs(i-o)-a/2;this.view.scrollTop=this.getScrollTopForOffset(r)}},{key:"handleHorizontalThumbMouseDown",value:function(t){t.preventDefault(),this.handleDragStart(t);var e=t.target,o=t.clientX,i=e.offsetWidth,a=e.getBoundingClientRect().left;this.prevPageX=i-(o-a)}},{key:"handleVerticalThumbMouseDown",value:function(t){t.preventDefault(),this.handleDragStart(t);var e=t.target,o=t.clientY,i=e.offsetHeight,a=e.getBoundingClientRect().top;this.prevPageY=i-(o-a)}},{key:"setupDragging",value:function(){(0,n.default)(document.body,g.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=h.default}},{key:"teardownDragging",value:function(){(0,n.default)(document.body,g.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(t){this.dragging=!0,t.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(t){if(this.prevPageX){var e=t.clientX,o=-this.trackHorizontal.getBoundingClientRect().left+e-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(o)}if(this.prevPageY){var i=t.clientY,a=-this.trackVertical.getBoundingClientRect().top+i-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(a)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,n.default)(this.trackHorizontal,{opacity:1}),(0,n.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var t=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var e=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,n.default)(t.trackHorizontal,{opacity:0}),(0,n.default)(t.trackVertical,{opacity:0})}),e)}}},{key:"detectScrolling",value:function(){var t=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){t.lastViewScrollLeft===t.viewScrollLeft&&t.lastViewScrollTop===t.viewScrollTop&&(clearInterval(t.detectScrollingInterval),t.scrolling=!1,t.handleScrollStop()),t.lastViewScrollLeft=t.viewScrollLeft,t.lastViewScrollTop=t.viewScrollTop}),100))}},{key:"raf",value:function(t){var e=this;this.requestFrame&&s.default.cancel(this.requestFrame),this.requestFrame=(0,s.default)((function(){e.requestFrame=void 0,t()}))}},{key:"update",value:function(t){var e=this;this.raf((function(){return e._update(t)}))}},{key:"_update",value:function(t){var e=this.props,o=e.onUpdate,i=e.hideTracksWhenNotNeeded,a=this.getValues();if((0,u.default)()){var r=a.scrollLeft,s=a.clientWidth,l=a.scrollWidth,c=(0,p.default)(this.trackHorizontal),d=this.getThumbHorizontalWidth(),h={width:d,transform:"translateX("+r/(l-s)*(c-d)+"px)"},g=a.scrollTop,_=a.clientHeight,v=a.scrollHeight,f=(0,m.default)(this.trackVertical),b=this.getThumbVerticalHeight(),w={height:b,transform:"translateY("+g/(v-_)*(f-b)+"px)"};if(i){var y={visibility:l>s?"visible":"hidden"},x={visibility:v>_?"visible":"hidden"};(0,n.default)(this.trackHorizontal,y),(0,n.default)(this.trackVertical,x)}(0,n.default)(this.thumbHorizontal,h),(0,n.default)(this.thumbVertical,w)}o&&o(a),"function"===typeof t&&t(a)}},{key:"render",value:function(){var t=this,e=(0,u.default)(),o=this.props,a=(o.onScroll,o.onScrollFrame,o.onScrollStart,o.onScrollStop,o.onUpdate,o.renderView),r=o.renderTrackHorizontal,s=o.renderTrackVertical,n=o.renderThumbHorizontal,c=o.renderThumbVertical,h=o.tagName,p=(o.hideTracksWhenNotNeeded,o.autoHide),m=(o.autoHideTimeout,o.autoHideDuration),_=(o.thumbSize,o.thumbMinSize,o.universal),v=o.autoHeight,f=o.autoHeightMin,b=o.autoHeightMax,w=o.style,y=o.children,x=function(t,e){var o={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i]);return o}(o,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),k=this.state.didMountUniversal,T=i({},g.containerStyleDefault,v&&i({},g.containerStyleAutoHeight,{minHeight:f,maxHeight:b}),w),j=i({},g.viewStyleDefault,{marginRight:e?-e:0,marginBottom:e?-e:0},v&&i({},g.viewStyleAutoHeight,{minHeight:(0,d.default)(f)?"calc("+f+" + "+e+"px)":f+e,maxHeight:(0,d.default)(b)?"calc("+b+" + "+e+"px)":b+e}),v&&_&&!k&&{minHeight:f,maxHeight:b},_&&!k&&g.viewStyleUniversalInitial),S={transition:"opacity "+m+"ms",opacity:0},C=i({},g.trackHorizontalStyleDefault,p&&S,(!e||_&&!k)&&{display:"none"}),P=i({},g.trackVerticalStyleDefault,p&&S,(!e||_&&!k)&&{display:"none"});return(0,l.createElement)(h,i({},x,{style:T,ref:function(e){t.container=e}}),[(0,l.cloneElement)(a({style:j}),{key:"view",ref:function(e){t.view=e}},y),(0,l.cloneElement)(r({style:C}),{key:"trackHorizontal",ref:function(e){t.trackHorizontal=e}},(0,l.cloneElement)(n({style:g.thumbHorizontalStyleDefault}),{ref:function(e){t.thumbHorizontal=e}})),(0,l.cloneElement)(s({style:P}),{key:"trackVertical",ref:function(e){t.trackVertical=e}},(0,l.cloneElement)(c({style:g.thumbVerticalStyleDefault}),{ref:function(e){t.thumbVertical=e}}))])}}]),e}(l.Component);e.default=f,f.propTypes={onScroll:c.default.func,onScrollFrame:c.default.func,onScrollStart:c.default.func,onScrollStop:c.default.func,onUpdate:c.default.func,renderView:c.default.func,renderTrackHorizontal:c.default.func,renderTrackVertical:c.default.func,renderThumbHorizontal:c.default.func,renderThumbVertical:c.default.func,tagName:c.default.string,thumbSize:c.default.number,thumbMinSize:c.default.number,hideTracksWhenNotNeeded:c.default.bool,autoHide:c.default.bool,autoHideTimeout:c.default.number,autoHideDuration:c.default.number,autoHeight:c.default.bool,autoHeightMin:c.default.oneOfType([c.default.number,c.default.string]),autoHeightMax:c.default.oneOfType([c.default.number,c.default.string]),universal:c.default.bool,style:c.default.object,children:c.default.node},f.defaultProps={renderView:_.renderViewDefault,renderTrackHorizontal:_.renderTrackHorizontalDefault,renderTrackVertical:_.renderTrackVerticalDefault,renderThumbHorizontal:_.renderThumbHorizontalDefault,renderThumbVertical:_.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},1189:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},e.containerStyleAutoHeight={height:"auto"},e.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},e.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},e.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},e.trackHorizontalStyleDefault={position:"absolute",height:6},e.trackVerticalStyleDefault={position:"absolute",width:6},e.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},e.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},e.disableSelectStyle={userSelect:"none"},e.disableSelectStyleReset={userSelect:""}},7142:(t,e,o)=>{"use strict";e.$B=void 0;var i,a=o(22305),r=(i=a)&&i.__esModule?i:{default:i};r.default,e.$B=r.default},10109:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.clientHeight,o=getComputedStyle(t),i=o.paddingTop,a=o.paddingBottom;return e-parseFloat(i)-parseFloat(a)}},82370:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.clientWidth,o=getComputedStyle(t),i=o.paddingLeft,a=o.paddingRight;return e-parseFloat(i)-parseFloat(a)}},59865:(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!1!==s)return s;if("undefined"!==typeof document){var t=document.createElement("div");(0,r.default)(t,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(t),s=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}else s=0;return s||0};var i,a=o(43580),r=(i=a)&&i.__esModule?i:{default:i};var s=!1},34392:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"string"===typeof t}},74630:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return!1}},24557:(t,e,o)=>{"use strict";o(47313),o(71843)},12312:(t,e,o)=>{var i=o(283);t.exports=function(t){return i(t).replace(/\s(\w)/g,(function(t,e){return e.toUpperCase()}))}},54205:t=>{t.exports=function(t){return e.test(t)?t.toLowerCase():o.test(t)?(function(t){return t.replace(a,(function(t,e){return e?" "+e:""}))}(t)||t).toLowerCase():i.test(t)?function(t){return t.replace(r,(function(t,e,o){return e+" "+o.toLowerCase().split("").join(" ")}))}(t).toLowerCase():t.toLowerCase()};var e=/\s/,o=/(_|-|\.|:)/,i=/([a-z][A-Z]|[A-Z][a-z])/;var a=/[\W_]+(.|$)/g;var r=/(.)([A-Z]+)/g},283:(t,e,o)=>{var i=o(54205);t.exports=function(t){return i(t).replace(/[\W_]+(.|$)/g,(function(t,e){return e?" "+e:""})).trim()}},46425:()=>{},50247:()=>{}}]);