"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[6904],{36904:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(47313),r=s(59204),o=s(73763),n=s(46417);class i extends a.PureComponent{constructor(){super(...arguments),this.onLoadeMore=e=>{const{wall:t,appendData:s}=this.props,a=t.Personalization.numberOfPosts,r=Math.floor(Date.now()/1e3);this.props.getDataNextSteps(t.Wall.id,r,a,s.networkID,s.after,s.heightEvent)}}render(){const{wall:e,languageSetting:t,loaderData:s,appendData:a}=this.props,r={fontFamily:e.ThemeRule.css_font,backgroundColor:e.ThemeRule.cardColor,borderColor:"#ffffff"===e.ThemeRule.fontColor?"black":e.ThemeRule.fontColor,color:"#ffffff"===e.ThemeRule.fontColor?"black":e.ThemeRule.fontColor};return(0,n.jsx)("div",{className:"tb_see_more_btn_wrap",children:(0,n.jsx)("div",{className:"tb_see_more_btn tb-cTSfont-".concat(e.ThemeRule.font_varient," ").concat(s&&s.isShowMoreLoading?"tb_more_btn_loading":""),onClick:this.onLoadeMore,style:r,children:(s&&s.isShowMoreLoading,t.buttonName)})})}}const l=(0,r.$j)((e=>{const{appData:t}=e;return{loaderData:e.loaderData,appendData:t.postData.appendData}}),(e=>({getDataNextSteps:(t,s,a,r,n,i,l)=>e((0,o.Sx)(t,s,a,r,n,i,l))})))(i);var c=s(98501);function p(e){e.style.setProperty("visibility","visible","important"),e.style.setProperty("opacity","1","important"),e.style.setProperty("display","flex","important")}class m extends a.PureComponent{render(){return(0,n.jsx)("div",{ref:e=>{e&&(e.style.setProperty("align-items","center","important"),e.style.setProperty("padding","0px 7px","important"),e.style.setProperty("justify-content","end","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("height","auto","important"),p(e))},children:(0,n.jsxs)("a",{href:c.Cx,target:"_blank",ref:e=>{e&&(e.style.setProperty("background-color","rgba(255, 255, 255, 1)","important"),e.style.setProperty("align-items","center","important"),e.style.setProperty("padding","4px 10px","important"),e.style.setProperty("display","flex","important"),e.style.setProperty("width","auto","important"),e.style.setProperty("text-decoration","none","important"),e.style.setProperty("border-radius","3px","important"),p(e))},children:[(0,n.jsx)("div",{ref:e=>{e&&(e.style.setProperty("font-size","14px","important"),e.style.setProperty("color","#545454","important"),e.style.setProperty("margin-right","6px","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("height","auto","important"),p(e))},children:"Powered By"}),(0,n.jsx)("div",{ref:e=>{e&&(e.style.setProperty("background-image","url(https://cloud.taggbox.com/taggshop/assets/images/home-page/logo_new.svg)","important"),e.style.setProperty("background-size","contain","important"),e.style.setProperty("background-position","left center","important"),e.style.setProperty("background-repeat","no-repeat","important"),e.style.setProperty("height","35px","important"),e.style.setProperty("min-height","35px","important"),e.style.setProperty("width","102px","important"),e.style.setProperty("min-width","102px","important"),p(e))}})]})})}}var h=s(17739);s(35179);class d extends a.PureComponent{constructor(){super(...arguments),this.onClicktoUrl=e=>t=>{window.top.location.href=e}}render(){const{minNumberPost:e}=this.props,t={backgroundImage:"url(".concat(c.E,"taggshop-theme/media/error/nopost.png)")},s={backgroundImage:"url(".concat(c.E,"taggshop/assets/images/home-page/logo_new.svg)")};return(0,n.jsxs)("div",{className:"tb_error_page",children:[(0,n.jsx)("div",{className:"tb_error_page_bg",style:t,children:(0,n.jsx)("div",{})}),(0,n.jsxs)("div",{className:"tb_error_page_wrapper",children:[(0,n.jsxs)("div",{className:"tb_error_content",children:[(0,n.jsx)("div",{className:"tb_error_title",children:"Error: Theme Conditions Not Met"}),(0,n.jsx)("div",{className:"tb_error_des",children:"Your shoppable gallery is not visible due to an insufficient number of public posts, as per the applied theme's rules."}),(0,n.jsxs)("div",{className:"tb_error_des",children:[(0,n.jsx)("strong",{children:"Note: "}),'You need minimum of "',e,'" public posts for your gallery to be visible.']}),(0,n.jsx)("div",{className:"tb_error_page_actions",children:(0,n.jsx)("div",{className:"tb_error_action_list"})})]}),(0,n.jsx)("div",{className:"tb_error_page_logo",children:(0,h.G)()?(0,n.jsx)("span",{className:"tb_error_page_logo_ico",style:s}):(0,n.jsx)("a",{href:"https://taggshop.io/?utm_source=Not_active_logo&utm_medium=https%3A%2F%2Ftaggbox.com&utm_campaign=commerce_not_active",className:"tb_error_page_logo_ico",style:s})})]})]})}}class u extends a.Component{constructor(){super(...arguments),this.imageQueue=[],this.state={firstRequest:!1},this.handleImageError=e=>{const t=e.target.getAttribute("data-id");this.imageQueue.includes(t)||(this.imageQueue.push(t),this.state.firstRequest||this.processImageQueue())},this.processImageQueue=async()=>{this.setState({firstRequest:!0});const e=this.imageQueue[0],t=document.getElementsByClassName("imgID".concat(e));e&&(0,h.mg)(e).then((e=>{let{data:s}=e;if((0,o.Tl)(),this.imageQueue.shift(),t)for(let a=0;a<t.length;a++)t[a].src=s.media;this.processImageQueue()})).catch((e=>{if(this.imageQueue.shift(),t)for(let s=0;s<t.length;s++)t[s].src=c.o$;this.processImageQueue()}))}}render(){const{postData:e,completeDataObject:t}=this.props;return e?e.map((e=>{const s=t[e];return 28==s.networkId?(0,n.jsx)("img",{loading:"lazy",className:"","data-id":s.id,src:s.postFileNew,onError:this.handleImageError,style:{display:"none"}},"idKey".concat(e)):""})):""}}const g=(0,a.lazy)((()=>Promise.all([s.e(6390),s.e(8215),s.e(510),s.e(9395),s.e(3298),s.e(5255)]).then(s.bind(s,88816)))),b=(0,a.lazy)((()=>Promise.all([s.e(6390),s.e(816),s.e(8215),s.e(2488),s.e(8315),s.e(5391)]).then(s.bind(s,79880)))),y=(0,a.lazy)((()=>Promise.all([s.e(6390),s.e(816),s.e(8315),s.e(4045)]).then(s.bind(s,18099)))),x=(0,a.lazy)((()=>Promise.all([s.e(6390),s.e(816),s.e(7156),s.e(8315),s.e(201)]).then(s.bind(s,40201)))),j=(0,a.lazy)((()=>Promise.all([s.e(6390),s.e(816),s.e(8215),s.e(2488),s.e(7914),s.e(8315),s.e(5463)]).then(s.bind(s,33599)))),f=(0,a.lazy)((()=>Promise.all([s.e(6390),s.e(816),s.e(7156),s.e(8315),s.e(2933)]).then(s.bind(s,52933)))),_=(0,a.lazy)((()=>Promise.all([s.e(6390),s.e(816),s.e(8215),s.e(2488),s.e(8315),s.e(1975)]).then(s.bind(s,30137)))),P=(0,a.lazy)((()=>Promise.all([s.e(6390),s.e(816),s.e(7156),s.e(8315),s.e(4231)]).then(s.bind(s,14231)))),w=(0,a.lazy)((()=>Promise.all([s.e(6390),s.e(816),s.e(8215),s.e(2488),s.e(8315),s.e(1154)]).then(s.bind(s,95649)))),D=e=>{let{wall:t,loaderData:s,postData:r,adjustWidth:o,appData:i}=e;switch(t.Personalization.commerceTheme){case 16:return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(b,{...i,...r,...r,adjustWidth:o})});case 53:return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(y,{...i,...r})});case 4:return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(x,{...i,...r,adjustWidth:o,wall:t})});case 50:return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(j,{...i,...r})});case 19:return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(f,{...i,...r,adjustWidth:o,wall:t})});case 47:return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(_,{...i,...r,loaderData:s,appendData:r.appendData})});case 3:return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(P,{...i,...r,adjustWidth:o,wall:t})});case 55:return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(w,{...i,...r,adjustWidth:o,wall:t})});case 61:return(0,n.jsx)(a.Suspense,{fallback:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsx)(g,{...i,...r,adjustWidth:o,wall:t})})}};class v extends a.PureComponent{constructor(){super(...arguments),this.state={windowWidth:document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:"",windowHeight:window.innerHeight,adjustWidth:0,container:document.querySelector(".taggshopContainer"),minNumberPost:1},this.wallNotLoadissue=()=>{document.querySelector(".tb_theme_container")?document.querySelector(".tb_theme_container")&&document.querySelector("#ts_theme_container")?console.log("."):this.reArrangeWall():console.log(",")},this.reArrangeWall=()=>{new ResizeObserver((e=>{window.dispatchEvent(new Event("resize"))})).observe(this.state.container)},this.onResponsiveTheme=()=>{const{wall:e,loaderData:t,appData:s}=this.props,{windowWidth:a}=this.state,{adjustWidth:r}=(0,h.X8)(a,e,s.postData.postData);this.setState({adjustWidth:r})}}componentDidMount(){this.onResponsiveTheme(),window.addEventListener("resize",(()=>{this.setState({windowWidth:document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:"",windowHeight:window.innerHeight},(()=>this.onResponsiveTheme()))})),setTimeout((()=>{this.wallNotLoadissue()}),1300)}checkError(e){const{wall:t,appData:s}=this.props;let a;switch(e){case 16:if(s.postData.postData.length<t.ThemeRule.multiRow)return this.setState({minNumberPost:t.ThemeRule.multiRow}),!0;break;case 53:if(s.postData.postData.length<t.ThemeRule.numberOfCoumn)return this.setState({minNumberPost:t.ThemeRule.numberOfCoumn}),!0;break;case 4:if(t.Personalization.fitRow&&s.postData.postData.length<t.ThemeRule.numberOfCoumn)return this.setState({minNumberPost:t.ThemeRule.numberOfCoumn}),!0;break;case 50:if(s.postData.postData.length<3)return this.setState({minNumberPost:3}),!0;break;case 61:if(s.postData.postData.length<a)return this.setState({minNumberPost:a}),!0}}render(){const{wall:e,languageSetting:t,appData:s,loaderData:a}=this.props,{adjustWidth:r,minNumberPost:o}=this.state,i=[16,47,55,50,61].includes(e.Personalization.commerceTheme);return this.checkError(e.Personalization.commerceTheme),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"tb_theme_container ".concat(e&&e.Personalization?"thm_"+e.Personalization.commerceTheme:""),children:[0===s.postData.postData.length?(0,n.jsx)(d,{minNumberPost:o}):r&&r>0?this.checkError(e.Personalization.commerceTheme)?(0,n.jsx)(d,{minNumberPost:o}):(0,n.jsx)(D,{...this.props,...this.state,appData:s}):null,e&&e.UserRule&&"1"==e.UserRule.taggBranding?(0,n.jsx)(m,{}):"",s&&s.postData&&s.postData.completeDataObject?(0,n.jsx)(u,{completeDataObject:s.postData.completeDataObject,postData:s.postData.postData}):"",e.Personalization.loadMoreStatus&&s.postData.showMoreContent&&!i?(0,n.jsx)(l,{loaderData:s.loader,languageSetting:t,wall:e}):null]})})}}}}]);