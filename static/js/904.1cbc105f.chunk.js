"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[904],{36904:function(e,t,r){r.r(t),r.d(t,{default:function(){return z}});var a=r(15671),n=r(43144),o=r(79340),s=r(48347),i=r(1413),l=r(47313),u=r(8354),c=r(73763),p=r(46417),m=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onLoadeMore=function(t){var r=e.props,a=r.wall,n=r.appendData,o=a.Personalization.numberOfPosts,s=Math.floor(Date.now()/1e3);e.props.getDataNextSteps(a.Wall.id,s,o,n.networkID,n.after,n.heightEvent)},e}return(0,n.Z)(r,[{key:"render",value:function(){var e=this.props,t=e.wall,r=e.languageSetting,a=e.loaderData,n=(e.appendData,{fontFamily:t.ThemeRule.css_font,backgroundColor:t.ThemeRule.cardColor,borderColor:"#ffffff"===t.ThemeRule.fontColor?"black":t.ThemeRule.fontColor,color:"#ffffff"===t.ThemeRule.fontColor?"black":t.ThemeRule.fontColor});return(0,p.jsx)("div",{className:"tb_see_more_btn_wrap",children:(0,p.jsx)("div",{className:"tb_see_more_btn tb-cTSfont-".concat(t.ThemeRule.font_varient," ").concat(a&&a.isShowMoreLoading?"tb_more_btn_loading":""),onClick:this.onLoadeMore,style:n,children:(a&&a.isShowMoreLoading,r.buttonName)})})}}]),r}(l.PureComponent),d=(0,u.$j)((function(e){var t=e.appData;return{loaderData:e.loaderData,appendData:t.postData.appendData}}),(function(e){return{getDataNextSteps:function(t,r,a,n,o,s,i){return e((0,c.Sx)(t,r,a,n,o,s,i))}}}))(m),h=r(98501);function g(e){e.style.setProperty("visibility","visible","important"),e.style.setProperty("opacity","1","important"),e.style.setProperty("display","flex","important")}var f=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){return(0,p.jsx)("div",{ref:function(e){e&&(e.style.setProperty("align-items","center","important"),e.style.setProperty("padding","0px 7px","important"),e.style.setProperty("justify-content","end","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("height","auto","important"),g(e))},children:(0,p.jsxs)("a",{href:h.Cx,target:"_blank",ref:function(e){e&&(e.style.setProperty("background-color","rgba(255, 255, 255, 1)","important"),e.style.setProperty("align-items","center","important"),e.style.setProperty("padding","4px 10px","important"),e.style.setProperty("display","flex","important"),e.style.setProperty("width","auto","important"),e.style.setProperty("text-decoration","none","important"),e.style.setProperty("border-radius","3px","important"),g(e))},children:[(0,p.jsx)("div",{ref:function(e){e&&(e.style.setProperty("font-size","14px","important"),e.style.setProperty("color","#545454","important"),e.style.setProperty("margin-right","6px","important"),e.style.setProperty("width","100%","important"),e.style.setProperty("height","auto","important"),g(e))},children:"Powered By"}),(0,p.jsx)("div",{ref:function(e){e&&(e.style.setProperty("background-image","url(https://cloud.taggbox.com/taggshop/assets/images/home-page/logo_new.svg)","important"),e.style.setProperty("background-size","contain","important"),e.style.setProperty("background-position","left center","important"),e.style.setProperty("background-repeat","no-repeat","important"),e.style.setProperty("height","35px","important"),e.style.setProperty("min-height","35px","important"),e.style.setProperty("width","102px","important"),e.style.setProperty("min-width","102px","important"),g(e))}})]})})}}]),r}(l.PureComponent),y=r(17739),b=(r(35179),function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).onClicktoUrl=function(e){return function(t){window.top.location.href=e}},e}return(0,n.Z)(r,[{key:"render",value:function(){var e=this.props.minNumberPost,t={backgroundImage:"url(".concat(h.E,"taggshop-theme/media/error/nopost.png)")},r={backgroundImage:"url(".concat(h.E,"taggshop/assets/images/home-page/logo_new.svg)")};return(0,p.jsxs)("div",{className:"tb_error_page",children:[(0,p.jsx)("div",{className:"tb_error_page_bg",style:t,children:(0,p.jsx)("div",{})}),(0,p.jsxs)("div",{className:"tb_error_page_wrapper",children:[(0,p.jsxs)("div",{className:"tb_error_content",children:[(0,p.jsx)("div",{className:"tb_error_title",children:"Error: Theme Conditions Not Met"}),(0,p.jsx)("div",{className:"tb_error_des",children:"Your shoppable gallery is not visible due to an insufficient number of public posts, as per the applied theme's rules."}),(0,p.jsxs)("div",{className:"tb_error_des",children:[(0,p.jsx)("strong",{children:"Note: "}),'You need minimum of "',e,'" public posts for your gallery to be visible.']}),(0,p.jsx)("div",{className:"tb_error_page_actions",children:(0,p.jsx)("div",{className:"tb_error_action_list"})})]}),(0,p.jsx)("div",{className:"tb_error_page_logo",children:(0,y.G)()?(0,p.jsx)("span",{className:"tb_error_page_logo_ico",style:r}):(0,p.jsx)("a",{href:"https://taggshop.io/?utm_source=Not_active_logo&utm_medium=https%3A%2F%2Ftaggbox.com&utm_campaign=commerce_not_active",className:"tb_error_page_logo_ico",style:r})})]})]})}}]),r}(l.PureComponent)),x=r(15861),v=r(87757),j=r.n(v),w=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).imageQueue=[],e.state={firstRequest:!1},e.handleImageError=function(t){var r=t.target.getAttribute("data-id");e.imageQueue.includes(r)||(e.imageQueue.push(r),e.state.firstRequest||e.processImageQueue())},e.processImageQueue=(0,x.Z)(j().mark((function t(){var r,a;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({firstRequest:!0}),r=e.imageQueue[0],a=document.getElementsByClassName("imgID".concat(r)),r&&(0,y.mg)(r).then((function(t){var r=t.data;if((0,c.Tl)(),e.imageQueue.shift(),a)for(var n=0;n<a.length;n++)a[n].src=r.media;e.processImageQueue()})).catch((function(t){if(e.imageQueue.shift(),a)for(var r=0;r<a.length;r++)a[r].src=h.o$;e.processImageQueue()}));case 4:case"end":return t.stop()}}),t)}))),e}return(0,n.Z)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.postData,a=t.completeDataObject;return r?r.map((function(t){var r=a[t];return 28==r.networkId?(0,p.jsx)("img",{loading:"lazy",className:"","data-id":r.id,src:r.postFileNew,onError:e.handleImageError,style:{display:"none"}},"idKey".concat(t)):""})):""}}]),r}(l.Component),P=(0,l.lazy)((function(){return Promise.all([r.e(390),r.e(874),r.e(510),r.e(484),r.e(298),r.e(94)]).then(r.bind(r,31452))})),_=(0,l.lazy)((function(){return Promise.all([r.e(390),r.e(816),r.e(315),r.e(216)]).then(r.bind(r,79880))})),D=(0,l.lazy)((function(){return Promise.all([r.e(390),r.e(816),r.e(315),r.e(424)]).then(r.bind(r,18099))})),Z=(0,l.lazy)((function(){return Promise.all([r.e(390),r.e(816),r.e(650),r.e(315),r.e(201)]).then(r.bind(r,40201))})),k=(0,l.lazy)((function(){return Promise.all([r.e(390),r.e(816),r.e(914),r.e(315),r.e(302)]).then(r.bind(r,33599))})),N=(0,l.lazy)((function(){return Promise.all([r.e(390),r.e(816),r.e(650),r.e(315),r.e(933)]).then(r.bind(r,52933))})),S=(0,l.lazy)((function(){return Promise.all([r.e(390),r.e(816),r.e(315),r.e(427)]).then(r.bind(r,30137))})),C=(0,l.lazy)((function(){return Promise.all([r.e(390),r.e(816),r.e(650),r.e(315),r.e(231)]).then(r.bind(r,14231))})),T=(0,l.lazy)((function(){return Promise.all([r.e(390),r.e(816),r.e(315),r.e(987)]).then(r.bind(r,95649))})),R=function(e){var t=e.wall,r=e.loaderData,a=e.postData,n=e.adjustWidth,o=e.appData;switch(t.Personalization.commerceTheme){case 16:return(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(_,(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},o),a),a),{},{adjustWidth:n}))});case 53:return(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(D,(0,i.Z)((0,i.Z)({},o),a))});case 4:return(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(Z,(0,i.Z)((0,i.Z)((0,i.Z)({},o),a),{},{adjustWidth:n,wall:t}))});case 50:return(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(k,(0,i.Z)((0,i.Z)({},o),a))});case 19:return(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(N,(0,i.Z)((0,i.Z)((0,i.Z)({},o),a),{},{adjustWidth:n,wall:t}))});case 47:return(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(S,(0,i.Z)((0,i.Z)((0,i.Z)({},o),a),{},{loaderData:r,appendData:a.appendData}))});case 3:return(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(C,(0,i.Z)((0,i.Z)((0,i.Z)({},o),a),{},{adjustWidth:n,wall:t}))});case 55:return(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(T,(0,i.Z)((0,i.Z)((0,i.Z)({},o),a),{},{adjustWidth:n,wall:t}))});case 61:return(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(p.Fragment,{}),children:(0,p.jsx)(P,(0,i.Z)((0,i.Z)((0,i.Z)({},o),a),{},{adjustWidth:n,wall:t}))})}},z=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={windowWidth:document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:"",windowHeight:window.innerHeight,adjustWidth:0,container:document.querySelector(".taggshopContainer"),minNumberPost:1},e.wallNotLoadissue=function(){},e.reArrangeWall=function(){new ResizeObserver((function(e){setTimeout((function(){window.dispatchEvent(new Event("resize"))}),0)})).observe(e.state.container)},e.onResponsiveTheme=function(){var t=e.props,r=t.wall,a=(t.loaderData,t.appData),n=e.state.windowWidth,o=(0,y.X8)(n,r,a.postData.postData).adjustWidth;e.setState({adjustWidth:o})},e}return(0,n.Z)(r,[{key:"componentDidMount",value:function(){var e=this;this.onResponsiveTheme(),window.addEventListener("resize",(function(){e.setState({windowWidth:document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:"",windowHeight:window.innerHeight},(function(){return e.onResponsiveTheme()}))})),setTimeout((function(){e.wallNotLoadissue()}),1300)}},{key:"checkError",value:function(e){var t,r=this.props,a=r.wall,n=r.appData;switch(e){case 16:if(n.postData.postData.length<a.ThemeRule.multiRow)return this.setState({minNumberPost:a.ThemeRule.multiRow}),!0;break;case 53:if(n.postData.postData.length<a.ThemeRule.numberOfCoumn)return this.setState({minNumberPost:a.ThemeRule.numberOfCoumn}),!0;break;case 4:if(a.Personalization.fitRow&&n.postData.postData.length<a.ThemeRule.numberOfCoumn)return this.setState({minNumberPost:a.ThemeRule.numberOfCoumn}),!0;break;case 50:if(n.postData.postData.length<3)return this.setState({minNumberPost:3}),!0;break;case 61:if(n.postData.postData.length<t)return this.setState({minNumberPost:t}),!0}}},{key:"render",value:function(){var e=this.props,t=e.wall,r=e.languageSetting,a=e.appData,n=(e.loaderData,this.state),o=n.adjustWidth,s=n.minNumberPost,l=[16,47,55,50,61].includes(t.Personalization.commerceTheme);return this.checkError(t.Personalization.commerceTheme),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"tb_theme_container ".concat(t&&t.Personalization?"thm_"+t.Personalization.commerceTheme:""),children:[0===a.postData.postData.length?(0,p.jsx)(b,{minNumberPost:s}):o&&o>0?this.checkError(t.Personalization.commerceTheme)?(0,p.jsx)(b,{minNumberPost:s}):(0,p.jsx)(R,(0,i.Z)((0,i.Z)((0,i.Z)({},this.props),this.state),{},{appData:a})):null,t&&t.UserRule&&"1"==t.UserRule.taggBranding?(0,p.jsx)(f,{}):"",a&&a.postData&&a.postData.completeDataObject?(0,p.jsx)(w,{completeDataObject:a.postData.completeDataObject,postData:a.postData.postData}):"",t.Personalization.loadMoreStatus&&a.postData.showMoreContent&&!l?(0,p.jsx)(d,{loaderData:a.loader,languageSetting:r,wall:t}):null]})})}}]),r}(l.PureComponent)}}]);