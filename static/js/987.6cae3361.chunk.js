"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[987],{95649:function(e,t,a){a.r(t);var r=a(1413),n=a(15861),s=a(15671),o=a(43144),i=a(79340),l=a(48347),c=a(87757),u=a.n(c),d=a(47313),p=a(8354),h=a(73763),m=a(17739),w=a(2651),f=a(46417),g=(0,d.lazy)((function(){return Promise.all([a.e(874),a.e(885),a.e(771)]).then(a.bind(a,54771))})),D=function(e){(0,i.Z)(a,e);var t=(0,l.Z)(a);function a(e){var r;return(0,s.Z)(this,a),(r=t.call(this,e)).allImageQueue=[],r.state={cardCount:null,widnowWidth:document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:"",allFirstImage:!1,showSlides:!1},r.preloadImages=function(){var e=(0,n.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.length&&t.forEach(function(){var e=(0,n.Z)(u().mark((function e(t){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props.completeDataObject[t],e.next=3,r.preloadImage(a.postFileNew);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.preloadImage=function(e){return new Promise((function(t,a){var r=new Image;r.src=e,r.style.display="none",r.onload=function(){document.body.removeChild(r),t()},r.onerror=a,document.body.appendChild(r)}))},r.onCardCountFormation=function(){var e=r.props.wall,t=r.state.widnowWidth,a=e.Personalization.minimumPostWidth,n=parseInt(t/a);r.setState({cardCount:n})},r.onUpdateData=function(){setTimeout((function(){return r.requestData()}),1e3)},r.requestData=function(){var e=r.props,t=e.wall,a=e.appendData,n=e.hasMoreData,s=e.loaderData,o=t.ThemeRule.numberOfPosts,i=Math.floor(Date.now()/1e3);n&&!s.isShowMoreLoading&&r.props.getDataNextSteps(t.Wall.id,i,o,a.networkID,a.after,a.heightEvent)},r.handleAllImageError=function(e){try{var t=e.target.getAttribute("data-item-id");r.allImageQueue.push({src:t,e:e}),r.state.allFirstImage||r.processAllImageQueue()}catch(a){}},r.processAllImageQueue=function(){if(r.allImageQueue.length){r.setState({allFirstImage:!0});var e=r.allImageQueue[0],t=e.src,a=e.e;t&&(0,m.bO)(a,r.nextProcessAllImageQueue)}},r.nextProcessAllImageQueue=function(){try{r.allImageQueue.shift(),r.processAllImageQueue()}catch(e){}},r}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){this.onCardCountFormation(this.props),this.preloadImages(this.props.postData)}},{key:"render",value:function(){var e=this,t=this.props,a=t.completeDataObject,n=t.adjustWidth,s=t.hasMoreData,o=t.newPostData,i=t.loaderData,l=this.state.cardCount;return(0,f.jsxs)("div",{className:"ts_cs_post_container",id:window.isEditor?"isEditorCls ts_theme_container":"ts_theme_container",children:[(0,f.jsx)(d.Suspense,{fallback:(0,f.jsx)("div",{children:"Loading..."}),children:(0,f.jsx)(g,{"slides-per-view":"".concat(l),navigation:JSON.stringify({nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-none"}),breakpoints:JSON.stringify({2400:{slidesPerView:9},2200:{slidesPerView:8},1800:{slidesPerView:7},1500:{slidesPerView:6},1367:{slidesPerView:5},1200:{slidesPerView:4},768:{slidesPerView:3},576:{slidesPerView:2},575:{slidesPerView:1}}),"initial-slide":"0","long-swipes-ratio":.01,"long-swipes-ms":100,hasMoreData:s,loaderData:i,onUpdateData:this.onUpdateData,children:o&&o.length>0?o.map((function(t,s){var o=a[t];return(0,f.jsx)("swiper-slide",{children:(0,f.jsx)(w.Z,(0,r.Z)({className:"ts_cs_post_wrapper",handleAllImageError:e.handleAllImageError,itemData:o,itemIndex:s,adjustWidth:n},e.props),"post_Id_".concat(s))},"spli".concat(s))})):null})}),(0,f.jsx)("div",{className:"swiper-button-prev swiper__arrow--prev ts_slider_arrow-prev",children:(0,f.jsx)("div",{className:"swiperArrow_inner",children:(0,f.jsx)("div",{className:"tb__icon tb-chevron-left",children:(0,f.jsx)("div",{})})})}),(0,f.jsx)("div",{className:"swiper-button-next swiper__arrow--next ts_slider_arrow-next",onClick:s&&i.isShowMoreLoading?null:this.onUpdateData,children:s&&i.isShowMoreLoading?(0,f.jsxs)("svg",{width:"26px",height:"26px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:"uil-ring-alt",children:[(0,f.jsx)("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",className:"bk"}),(0,f.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:"#afafb7",fill:"none",strokeWidth:"10",strokeLinecap:"round"}),(0,f.jsxs)("circle",{cx:"50",cy:"50",r:"40",stroke:"#000000",fill:"none",strokeWidth:"6",strokeLinecap:"round",children:[(0,f.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"2s",repeatCount:"indefinite",from:"0",to:"502"}),(0,f.jsx)("animate",{attributeName:"stroke-dasharray",dur:"2s",repeatCount:"indefinite",values:"150.6 100.4;1 250;150.6 100.4"})]})]}):(0,f.jsx)("div",{className:"swiperArrow_inner",children:(0,f.jsx)("div",{className:"tb__icon tb-chevron-right",children:(0,f.jsx)("div",{})})})})]})}}]),a}(d.PureComponent);t.default=(0,p.$j)((function(e){var t=e.appData;return{appData:t,loaderData:e.loaderData,newPostData:t.newPostData,appendData:t.postData.appendData,hasMoreData:!t.postData.hasMoreData[0]||!1!==t.postData.hasMoreData[0].hasMoreData&&(!t.postData.hasMoreData[t.postData.appendData.networkID]||t.postData.hasMoreData[t.postData.appendData.networkID].hasMoreData)}}),(function(e){return{getDataNextSteps:function(t,a,r,n,s,o,i){return e((0,h.Sx)(t,a,r,n,s,o,i))},showPopUP:function(t){return e((0,h.Bm)(t))}}}))(D)},85942:function(e,t,a){a.d(t,{Z:function(){return r}});var r=function(e,t){return new Promise((function(a,r){var n=null,s=new Image;s.addEventListener("load",(function(){n&&clearTimeout(n),a(s)})),s.addEventListener("error",(function(e){n&&clearTimeout(n),r("".concat(e.type,": ").concat(e.message))})),s.src=e,t&&(n=setTimeout((function(){return r("Timeout exception")}),t))}))}}}]);