"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[933],{52933:function(e,t,a){a.r(t);var n=a(1413),r=a(15861),o=a(15671),s=a(43144),l=a(79340),i=a(48347),u=a(87757),c=a.n(u),p=a(47313),d=a(8354),m=a(61395),h=a.n(m),g=a(73763),D=a(17739),f=a(2651),w=a(46417),I={background:!0},v=function(e){(0,l.Z)(a,e);var t=(0,i.Z)(a);function a(){var e;(0,o.Z)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).allImageQueue=[],e.state={allFirstImage:!1},e.requestData=function(){var t=e.props,a=t.wall,n=(t.postData,t.appendData),r=t.hasMoreData,o=t.loaderData,s=a.Personalization.numberOfPosts,l=Math.floor(Date.now()/1e3);r&&!o.isShowMoreLoading&&e.props.getDataNextSteps(a.Wall.id,l,s,n.networkID,n.after,n.heightEvent)},e.handleAllImageError=function(t){try{var a=t.target.getAttribute("data-item-id");e.allImageQueue.includes({src:a,e:t})||e.allImageQueue.push({src:a,e:t}),setTimeout((function(){e.state.allFirstImage||e.processAllImageQueue()}),100)}catch(n){}},e.processAllImageQueue=(0,r.Z)(c().mark((function t(){var a,n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.allImageQueue.length&&(e.setState({allFirstImage:!0}),a=e.allImageQueue[0],n=a.src,r=a.e,n&&setTimeout((function(){(0,D.bO)(r,e.nextProcessAllImageQueue)}),100));case 1:case"end":return t.stop()}}),t)}))),e.nextProcessAllImageQueue=function(){try{e.allImageQueue.shift(),e.processAllImageQueue()}catch(t){}},e}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.wall,n=(t.postData,t.appendData);t.hasMoreData,t.loaderData,document.getElementById("scrlBarComanW");new ResizeObserver((function(e){window.dispatchEvent(new Event("resize"))})).observe(document.querySelector(".taggshopContainer")),n&&a.Personalization.autoScrollStatus&&window.addEventListener("scroll",(function(t){var a=document.getElementById("scrlBarComanW"),n=(document.body.scrollHeight,window.innerHeight+window.scrollY);a.scrollHeight-10<n&&setTimeout((function(){return e.requestData()}),1e3)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.postData,r=t.completeDataObject,o=t.adjustWidth,s=t.wall;t.webFilters,t.languageSetting;return(0,w.jsx)("div",{className:"tb_sc_post_container",id:"ts_theme_container",children:(0,w.jsx)(h(),{className:"tb_sc_post_container theme".concat(s.Personalization.commerceTheme),elementType:"div",options:{transitionDuration:0,itemSelector:".tb_sc_post_wrapper",columnWidth:0},disableImagesLoaded:!1,updateOnEachImageLoad:!0,imagesLoadedOptions:I,enableResizableChildren:!0,children:a&&a.length>0?a.map((function(t,s){D.j6&&a&&a.length-1==s&&setTimeout((function(){var e=document.querySelectorAll("img[data-is-optmized='0']");e&&e.length>0&&e.forEach((function(e){e.setAttribute("src",e.getAttribute("data-src")),e.setAttribute("data-is-optmized","1")}))}),1300);var l=r[t];return(0,w.jsx)(f.Z,(0,n.Z)({className:"tb_sc_post_wrapper",handleAllImageError:e.handleAllImageError,itemData:l,itemIndex:s,adjustWidth:o},e.props),"post_id_".concat(s))})):null})})}}]),a}(p.PureComponent);t.default=(0,d.$j)((function(e){var t=e.appData;return{appData:t,loaderData:e.loaderData,postData:t.postData.postData,appendData:t.appendData,hasMoreData:!t.postData.hasMoreData[0]||0!=t.postData.hasMoreData[0].hasMoreData&&(!t.postData.hasMoreData[t.appendData.networkID]||t.postData.hasMoreData[t.appendData.networkID].hasMoreData)}}),(function(e){return{getDataNextSteps:function(t,a,n,r,o,s,l){return e((0,g.Sx)(t,a,n,r,o,s,l))}}}))(v)}}]);