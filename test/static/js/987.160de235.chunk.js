"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[987,463],{37463:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var r=a(1413),n=a(45987),o=(a(47313),a(12488)),s=(a(9223),a(46417)),i=["children"];(0,o.z2)();var c=function(e){var t=e.children,a=(0,n.Z)(e,i);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("swiper-container",(0,r.Z)((0,r.Z)({"auto-height":"true","watch-overflow":!1},a),{},{children:t})),a.showCustomArrow?a.customArrow:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"swiper-button-prev swiper__arrow--prev ts_slider_arrow-prev",children:(0,s.jsx)("div",{className:"swiperArrow_inner",children:(0,s.jsx)("div",{className:"tb__icon tb-chevron-left",children:(0,s.jsx)("div",{})})})}),(0,s.jsx)("div",{className:"swiper-button-next swiper__arrow--next ts_slider_arrow-next",onClick:a.hasMoreData&&a.loaderData.isShowMoreLoading?null:a.onUpdateData,children:a.hasMoreData&&a.loaderData.isShowMoreLoading?(0,s.jsxs)("svg",{width:"26px",height:"26px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:"uil-ring-alt",children:[(0,s.jsx)("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",className:"bk"}),(0,s.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:"#afafb7",fill:"none",strokeWidth:"10",strokeLinecap:"round"}),(0,s.jsxs)("circle",{cx:"50",cy:"50",r:"40",stroke:"#000000",fill:"none",strokeWidth:"6",strokeLinecap:"round",children:[(0,s.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"2s",repeatCount:"indefinite",from:"0",to:"502"}),(0,s.jsx)("animate",{attributeName:"stroke-dasharray",dur:"2s",repeatCount:"indefinite",values:"150.6 100.4;1 250;150.6 100.4"})]})]}):(0,s.jsx)("div",{className:"swiperArrow_inner",children:(0,s.jsx)("div",{className:"tb__icon tb-chevron-right",children:(0,s.jsx)("div",{})})})})]})]})}},95649:function(e,t,a){a.r(t);var r=a(1413),n=a(15861),o=a(15671),s=a(43144),i=a(79340),c=a(48347),l=a(87757),u=a.n(l),d=a(47313),p=a(8354),h=a(73763),m=a(17739),f=a(2651),w=a(37463),g=a(46417),v=function(e){(0,i.Z)(a,e);var t=(0,c.Z)(a);function a(e){var r;return(0,o.Z)(this,a),(r=t.call(this,e)).allImageQueue=[],r.state={cardCount:null,allFirstImage:!1,showSlides:!1},r.preloadImages=function(){var e=(0,n.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.length&&t.forEach(function(){var e=(0,n.Z)(u().mark((function e(t){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.props.completeDataObject[t],e.next=3,r.preloadImage(a.postFileNew);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.preloadImage=function(e){return new Promise((function(t,a){var r=new Image;r.src=e,r.style.display="none",r.onload=function(){document.body.removeChild(r),t()},r.onerror=a,document.body.appendChild(r)}))},r.onUpdateData=function(){setTimeout((function(){return r.requestData()}),1e3)},r.requestData=function(){var e=r.props,t=e.wall,a=e.appendData,n=e.hasMoreData,o=e.loaderData,s=t.ThemeRule.numberOfPosts,i=Math.floor(Date.now()/1e3);n&&!o.isShowMoreLoading&&r.props.getDataNextSteps(t.Wall.id,i,s,a.networkID,a.after,a.heightEvent)},r.handleAllImageError=function(e){try{var t=e.target.getAttribute("data-item-id");r.allImageQueue.includes({src:t,e:e})||r.allImageQueue.push({src:t,e:e}),r.state.allFirstImage||r.processAllImageQueue()}catch(a){}},r.processAllImageQueue=(0,n.Z)(u().mark((function e(){var t,a,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.allImageQueue.length&&(r.setState({allFirstImage:!0}),t=r.allImageQueue[0],a=t.src,n=t.e,a&&(0,m.bO)(n,r.nextProcessAllImageQueue));case 1:case"end":return e.stop()}}),e)}))),r.nextProcessAllImageQueue=function(){try{r.allImageQueue.shift(),r.processAllImageQueue()}catch(e){}},r}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){this.preloadImages(this.props.postData)}},{key:"render",value:function(){var e=this,t=this.props,a=t.completeDataObject,n=t.adjustWidth,o=t.hasMoreData,s=t.newPostData,i=t.loaderData,c=t.wall,l=document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:window.innerWidth,u=parseInt(l/c.Personalization.minimumPostWidth);return(0,g.jsx)("div",{className:"ts_cs_post_container",id:window.isEditor?"isEditorCls ts_theme_container":"ts_theme_container",children:(0,g.jsx)(w.default,{"slides-per-view":"".concat(u),navigation:JSON.stringify({nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-none"}),"initial-slide":"0","long-swipes-ratio":.01,"long-swipes-ms":100,hasMoreData:o,loaderData:i,onUpdateData:this.onUpdateData,children:s&&s.length>0?s.map((function(t,o){var s=a[t];return(0,g.jsx)("swiper-slide",{children:(0,g.jsx)(f.Z,(0,r.Z)({className:"ts_cs_post_wrapper",handleAllImageError:e.handleAllImageError,itemData:s,itemIndex:o,adjustWidth:n},e.props),"post_Id_".concat(o))},"spli".concat(o))})):null})})}}]),a}(d.PureComponent);t.default=(0,p.$j)((function(e){var t=e.appData;return{appData:t,loaderData:e.loaderData,newPostData:t.newPostData,appendData:t.appendData,hasMoreData:!t.postData.hasMoreData[0]||!1!==t.postData.hasMoreData[0].hasMoreData&&(!t.postData.hasMoreData[t.appendData.networkID]||t.postData.hasMoreData[t.appendData.networkID].hasMoreData)}}),(function(e){return{getDataNextSteps:function(t,a,r,n,o,s,i){return e((0,h.Sx)(t,a,r,n,o,s,i))},showPopUP:function(t){return e((0,h.Bm)(t))}}}))(v)},85942:function(e,t,a){a.d(t,{Z:function(){return r}});var r=function(e,t){return new Promise((function(a,r){var n=null,o=new Image;o.addEventListener("load",(function(){n&&clearTimeout(n),a(o)})),o.addEventListener("error",(function(e){n&&clearTimeout(n),r("".concat(e.type,": ").concat(e.message))})),o.src=e,t&&(n=setTimeout((function(){return r("Timeout exception")}),t))}))}}}]);