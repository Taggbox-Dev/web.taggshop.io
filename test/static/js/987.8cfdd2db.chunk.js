"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[987],{95649:function(e,t,a){a.r(t);var n=a(1413),r=a(15861),s=a(15671),o=a(43144),i=a(79340),l=a(48347),c=a(87757),u=a.n(c),d=a(47313),p=a(8354),h=a(73763),m=a(17739),f=a(2651),w=a(46417),g=(0,d.lazy)((function(){return Promise.all([a.e(874),a.e(885),a.e(771)]).then(a.bind(a,54771))})),D=function(e){(0,i.Z)(a,e);var t=(0,l.Z)(a);function a(e){var n;return(0,s.Z)(this,a),(n=t.call(this,e)).allImageQueue=[],n.state={cardCount:null,allFirstImage:!1,showSlides:!1},n.preloadImages=function(){var e=(0,r.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.length&&t.forEach(function(){var e=(0,r.Z)(u().mark((function e(t){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.completeDataObject[t],e.next=3,n.preloadImage(a.postFileNew);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.preloadImage=function(e){return new Promise((function(t,a){var n=new Image;n.src=e,n.style.display="none",n.onload=function(){document.body.removeChild(n),t()},n.onerror=a,document.body.appendChild(n)}))},n.onUpdateData=function(){setTimeout((function(){return n.requestData()}),1e3)},n.requestData=function(){var e=n.props,t=e.wall,a=e.appendData,r=e.hasMoreData,s=e.loaderData,o=t.ThemeRule.numberOfPosts,i=Math.floor(Date.now()/1e3);r&&!s.isShowMoreLoading&&n.props.getDataNextSteps(t.Wall.id,i,o,a.networkID,a.after,a.heightEvent)},n.handleAllImageError=function(e){try{var t=e.target.getAttribute("data-item-id");n.allImageQueue.push({src:t,e:e}),n.state.allFirstImage||n.processAllImageQueue()}catch(a){}},n.processAllImageQueue=function(){if(n.allImageQueue.length){n.setState({allFirstImage:!0});var e=n.allImageQueue[0],t=e.src,a=e.e;t&&(0,m.bO)(a,n.nextProcessAllImageQueue)}},n.nextProcessAllImageQueue=function(){try{n.allImageQueue.shift(),n.processAllImageQueue()}catch(e){}},n}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){this.preloadImages(this.props.postData)}},{key:"render",value:function(){var e=this,t=this.props,a=t.completeDataObject,r=t.adjustWidth,s=t.hasMoreData,o=t.newPostData,i=t.loaderData,l=t.wall,c=document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:window.innerWidth,u=parseInt(c/l.Personalization.minimumPostWidth);return(0,w.jsxs)("div",{className:"ts_cs_post_container",id:window.isEditor?"isEditorCls ts_theme_container":"ts_theme_container",children:[(0,w.jsx)(d.Suspense,{fallback:(0,w.jsx)("div",{children:"Loading..."}),children:(0,w.jsx)(g,{"slides-per-view":"".concat(u),navigation:JSON.stringify({nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-none"}),"initial-slide":"0","long-swipes-ratio":.01,"long-swipes-ms":100,hasMoreData:s,loaderData:i,onUpdateData:this.onUpdateData,children:o&&o.length>0?o.map((function(t,s){var o=a[t];return(0,w.jsx)("swiper-slide",{children:(0,w.jsx)(f.Z,(0,n.Z)({className:"ts_cs_post_wrapper",handleAllImageError:e.handleAllImageError,itemData:o,itemIndex:s,adjustWidth:r},e.props),"post_Id_".concat(s))},"spli".concat(s))})):null})}),(0,w.jsx)("div",{className:"swiper-button-prev swiper__arrow--prev ts_slider_arrow-prev",children:(0,w.jsx)("div",{className:"swiperArrow_inner",children:(0,w.jsx)("div",{className:"tb__icon tb-chevron-left",children:(0,w.jsx)("div",{})})})}),(0,w.jsx)("div",{className:"swiper-button-next swiper__arrow--next ts_slider_arrow-next",onClick:s&&i.isShowMoreLoading?null:this.onUpdateData,children:s&&i.isShowMoreLoading?(0,w.jsxs)("svg",{width:"26px",height:"26px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:"uil-ring-alt",children:[(0,w.jsx)("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",className:"bk"}),(0,w.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:"#afafb7",fill:"none",strokeWidth:"10",strokeLinecap:"round"}),(0,w.jsxs)("circle",{cx:"50",cy:"50",r:"40",stroke:"#000000",fill:"none",strokeWidth:"6",strokeLinecap:"round",children:[(0,w.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"2s",repeatCount:"indefinite",from:"0",to:"502"}),(0,w.jsx)("animate",{attributeName:"stroke-dasharray",dur:"2s",repeatCount:"indefinite",values:"150.6 100.4;1 250;150.6 100.4"})]})]}):(0,w.jsx)("div",{className:"swiperArrow_inner",children:(0,w.jsx)("div",{className:"tb__icon tb-chevron-right",children:(0,w.jsx)("div",{})})})})]})}}]),a}(d.PureComponent);t.default=(0,p.$j)((function(e){var t=e.appData;return{appData:t,loaderData:e.loaderData,newPostData:t.newPostData,appendData:t.postData.appendData,hasMoreData:!t.postData.hasMoreData[0]||!1!==t.postData.hasMoreData[0].hasMoreData&&(!t.postData.hasMoreData[t.postData.appendData.networkID]||t.postData.hasMoreData[t.postData.appendData.networkID].hasMoreData)}}),(function(e){return{getDataNextSteps:function(t,a,n,r,s,o,i){return e((0,h.Sx)(t,a,n,r,s,o,i))},showPopUP:function(t){return e((0,h.Bm)(t))}}}))(D)},85942:function(e,t,a){a.d(t,{Z:function(){return n}});var n=function(e,t){return new Promise((function(a,n){var r=null,s=new Image;s.addEventListener("load",(function(){r&&clearTimeout(r),a(s)})),s.addEventListener("error",(function(e){r&&clearTimeout(r),n("".concat(e.type,": ").concat(e.message))})),s.src=e,t&&(r=setTimeout((function(){return n("Timeout exception")}),t))}))}}}]);