"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[216,463],{37463:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var r=a(1413),n=a(45987),o=(a(47313),a(12488)),s=(a(9223),a(46417)),i=["children"];(0,o.z2)();var l=function(e){var t=e.children,a=(0,n.Z)(e,i);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("swiper-container",(0,r.Z)((0,r.Z)({"auto-height":"true","watch-overflow":!1},a),{},{children:t})),a.showCustomArrow?a.customArrow:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"swiper-button-prev swiper__arrow--prev ts_slider_arrow-prev",children:(0,s.jsx)("div",{className:"swiperArrow_inner",children:(0,s.jsx)("div",{className:"tb__icon tb-chevron-left",children:(0,s.jsx)("div",{})})})}),(0,s.jsx)("div",{className:"swiper-button-next swiper__arrow--next ts_slider_arrow-next",onClick:a.hasMoreData&&a.loaderData.isShowMoreLoading?null:a.onUpdateData,children:a.hasMoreData&&a.loaderData.isShowMoreLoading?(0,s.jsxs)("svg",{width:"26px",height:"26px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:"uil-ring-alt",children:[(0,s.jsx)("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",className:"bk"}),(0,s.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:"#afafb7",fill:"none",strokeWidth:"10",strokeLinecap:"round"}),(0,s.jsxs)("circle",{cx:"50",cy:"50",r:"40",stroke:"#000000",fill:"none",strokeWidth:"6",strokeLinecap:"round",children:[(0,s.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"2s",repeatCount:"indefinite",from:"0",to:"502"}),(0,s.jsx)("animate",{attributeName:"stroke-dasharray",dur:"2s",repeatCount:"indefinite",values:"150.6 100.4;1 250;150.6 100.4"})]})]}):(0,s.jsx)("div",{className:"swiperArrow_inner",children:(0,s.jsx)("div",{className:"tb__icon tb-chevron-right",children:(0,s.jsx)("div",{})})})})]})]})}},79880:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var r=a(1413),n=a(15861),o=a(15671),s=a(43144),i=a(79340),l=a(48347),u=a(87757),c=a.n(u),d=a(47313),p=a(2651),h=a(46417),m=function(e){(0,i.Z)(a,e);var t=(0,l.Z)(a);function a(){return(0,o.Z)(this,a),t.apply(this,arguments)}return(0,s.Z)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.dataArr,n=t.completeDataObject,o=t.cardWidth,s=t.handleAllImageError;return(0,h.jsx)("div",{className:"ts_ms_post_row",children:a&&a.length>0?a&&a.length>0?a.map((function(t,a){var i=n[t];return(0,h.jsx)(p.Z,(0,r.Z)({handleAllImageError:s,className:"ts_ms_post_wrapper",itemData:i,cardWidth:o,fullWidth:!1,itemId:i.id},e.props),"post_idMs_".concat(a))})):null:""})}}]),a}(d.PureComponent),f=a(8354),v=a(17739),w=a(73763),g=a(37463),D=function(e){(0,i.Z)(a,e);var t=(0,l.Z)(a);function a(){var e;(0,o.Z)(this,a);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).allImageQueue=[],e.state={data:[],cardWidth:null,loadMore:!1,allFirstImage:!1,showSlides:!0,isMobile:!1},e.onUpdateData=function(){setTimeout((function(){return e.requestData()}),1e3)},e.requestData=function(){var t=e.props,a=t.wall,r=t.appendData,n=t.hasMoreData,o=t.loaderData,s=a.ThemeRule.numberOfPosts,i=Math.floor(Date.now()/1e3);n&&!o.isShowMoreLoading&&e.props.getDataNextSteps(a.Wall.id,i,s,r.networkID,r.after,r.heightEvent)},e.onSliderDataFormation=function(t){var a=t.wall,r=t.postData,n=a.ThemeRule.multiRow,o=(0,v.td)(r,n);e.setState({data:o})},e.preloadImages=function(){var t=(0,n.Z)(c().mark((function t(a){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a&&a.length&&a.forEach(function(){var t=(0,n.Z)(c().mark((function t(a){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.completeDataObject[a],t.next=3,e.preloadImage(r.postFileNew);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.preloadImage=function(e){return new Promise((function(t,a){var r=new Image;r.src=e,r.style.display="none",r.onload=function(){document.body.removeChild(r),t()},r.onerror=a,document.body.appendChild(r)}))},e.handleAllImageError=function(t){try{var a=t.target.getAttribute("data-item-id");e.allImageQueue.includes({src:a,e:t})||e.allImageQueue.push({src:a,e:t}),e.state.allFirstImage||e.processAllImageQueue()}catch(r){}},e.processAllImageQueue=(0,n.Z)(c().mark((function t(){var a,r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.allImageQueue.length&&(e.setState({allFirstImage:!0}),a=e.allImageQueue[0],r=a.src,n=a.e,r&&(0,v.bO)(n,e.nextProcessAllImageQueue));case 1:case"end":return t.stop()}}),t)}))),e.nextProcessAllImageQueue=function(){try{e.allImageQueue.shift(),e.processAllImageQueue()}catch(t){}},e.DetectIphone=function(){var t=navigator.userAgent.toLowerCase();t.search("iphone")>-1||t.search("android")>-1?e.setState({isMobile:!0}):e.setState({isMobile:!1})},e}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.setState({loadMore:!0})}),500),this.DetectIphone(),this.preloadImages(this.props.postData),this.onSliderDataFormation(this.props)}},{key:"render",value:function(){var e,t,a,n,o=this,s=this.props,i=s.postData,l=s.hasMoreData,u=s.wall,c=s.loaderData,p=s.newPostData,f=(u.ThemeRule.numberOfCoumn,u.ThemeRule.mobileColumn,this.props.appData.wall.User.id),w=(0,v.XR)(null===u||void 0===u||null===(e=u.ThemeRule)||void 0===e?void 0:e.mobileColumn,null===u||void 0===u||null===(t=u.ThemeRule)||void 0===t?void 0:t.numberOfCoumn,null===u||void 0===u||null===(a=u.Personalization)||void 0===a?void 0:a.commerceTheme);return(0,h.jsx)("div",{className:"ts_ms_post_container",id:"ts_theme_container ",style:this.state.showSlides?{}:{visibility:"hidden"},children:(16677===f&&"product"===window.dataFilterType?i&&i.length>=5:i&&i.length)?(0,h.jsx)(d.Suspense,{fallback:(0,h.jsx)("div",{children:"Loading..."}),children:(0,h.jsx)(g.default,{autoplay:"".concat(1==u.ThemeRule.slidePost),"slides-per-view":w,navigation:JSON.stringify({nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"swiper-button-none"}),"css-mode":this.state.isMobile,"passive-listeners":!1,"long-swipes-ratio":.01,"long-swipes-ms":100,hasMoreData:l,loaderData:c,onUpdateData:this.onUpdateData,children:p&&p.length>0?137350===(null===u||void 0===u||null===(n=u.User)||void 0===n?void 0:n.id)?i&&i.length>3?p.map((function(e,t){return(0,h.jsx)("swiper-slide",{children:(0,h.jsx)(m,(0,r.Z)({handleAllImageError:o.handleAllImageError,dataArr:e},o.props),"post_id_ms-1-{index}")},"mn-1-".concat(t))})):null:p.map((function(e,t){return(0,h.jsx)("swiper-slide",{children:(0,h.jsx)(m,(0,r.Z)({handleAllImageError:o.handleAllImageError,dataArr:e},o.props),"post_id_ms-2-".concat(t))},"mn-2-".concat(t))})):null})}):null})}}]),a}(d.PureComponent),x=(0,f.$j)((function(e){var t=e.appData;return{appData:t,loaderData:e.loaderData,newPostData:t.newPostData,appendData:t.appendData,hasMoreData:!t.postData.hasMoreData[0]||!1!==t.postData.hasMoreData[0].hasMoreData&&(!t.postData.hasMoreData[t.appendData.networkID]||t.postData.hasMoreData[t.appendData.networkID].hasMoreData)}}),(function(e){return{getDataNextSteps:function(t,a,r,n,o,s,i){return e((0,w.Sx)(t,a,r,n,o,s,i))},showPopUP:function(t){return e((0,w.Bm)(t))}}}))(D)},85942:function(e,t,a){a.d(t,{Z:function(){return r}});var r=function(e,t){return new Promise((function(a,r){var n=null,o=new Image;o.addEventListener("load",(function(){n&&clearTimeout(n),a(o)})),o.addEventListener("error",(function(e){n&&clearTimeout(n),r("".concat(e.type,": ").concat(e.message))})),o.src=e,t&&(n=setTimeout((function(){return r("Timeout exception")}),t))}))}}}]);