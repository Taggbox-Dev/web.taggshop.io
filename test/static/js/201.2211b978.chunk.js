"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[201],{40201:function(e,a,t){t.r(a);var n=t(1413),r=t(15861),o=t(15671),s=t(43144),l=t(79340),i=t(48347),p=t(87757),u=t.n(p),c=t(47313),d=t(61395),h=t.n(d),m=t(8354),D=t(73763),g=t(17739),w=t(2651),f=t(46417),I=function(e){(0,l.Z)(t,e);var a=(0,i.Z)(t);function t(){var e;(0,o.Z)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=a.call.apply(a,[this].concat(s))).allImageQueue=[],e.state={allFirstImage:!1},e.requestData=function(){var a=e.props,t=a.wall,n=a.appendData,r=a.hasMoreData,o=a.loaderData,s=t.Personalization.numberOfPosts,l=Math.floor(Date.now()/1e3);r&&!o.isShowMoreLoading&&e.props.getDataNextSteps(t.Wall.id,l,s,n.networkID,n.after,n.heightEvent)},e.handleAllImageError=function(a){try{var t=a.target.getAttribute("data-item-id");e.allImageQueue.push({src:t,e:a}),e.state.allFirstImage||e.processAllImageQueue()}catch(n){}},e.processAllImageQueue=(0,r.Z)(u().mark((function a(){var t,n,r;return u().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.allImageQueue.length&&(e.setState({allFirstImage:!0}),t=e.allImageQueue[0],n=t.src,r=t.e,n&&(0,g.bO)(r,e.nextProcessAllImageQueue));case 1:case"end":return a.stop()}}),a)}))),e.nextProcessAllImageQueue=function(){try{e.allImageQueue.shift(),e.processAllImageQueue()}catch(a){}},e}return(0,s.Z)(t,[{key:"componentDidMount",value:function(){var e=this,a=this.props,t=a.wall,n=a.appendData;new ResizeObserver((function(){window.dispatchEvent(new Event("resize"))})).observe(document.querySelector(".taggshopContainer")),n&&t.Personalization.autoScrollStatus&&window.addEventListener("scroll",(function(){var a=document.getElementById("scrlBarComanW"),t=window.innerHeight+window.scrollY;a.scrollHeight-10<t&&e.requestData()}))}},{key:"render",value:function(){var e=this,a=this.props,t=a.newPostData,r=a.completeDataObject,o=a.adjustWidth,s=a.wall,l=this.props.appData.wall.User.id;return(0,f.jsx)("div",{className:"ts_sp_post_container",id:"ts_theme_container",children:(0,f.jsx)(h(),{className:"ts_sp_post_container theme".concat(s.Personalization.commerceTheme),elementType:"div",options:{transitionDuration:0,percentPosition:!0,itemSelector:".ts_sp_post_wrapper",fitWidth:!0,columnWidth:0},disableImagesLoaded:!1,updateOnEachImageLoad:!1,imagesLoadedOptions:{},style:{width:"100%!important"},enableResizableChildren:!1,children:t&&t.length>0?t.map((function(a,t){var s=r[a];return(0,f.jsx)(w.Z,(0,n.Z)({className:"ts_sp_post_wrapper",handleAllImageError:e.handleAllImageError,ownerId:l,itemData:s,itemIndex:t,adjustWidth:o},e.props),"post_id_".concat(t))})):null})})}}]),t}(c.PureComponent);a.default=(0,m.$j)((function(e){var a=e.appData;return{appData:a,loaderData:e.loaderData,newPostData:a.newPostData,postData:a.postData.postData,appendData:a.postData.appendData,hasMoreData:!a.postData.hasMoreData[0]||0!=a.postData.hasMoreData[0].hasMoreData&&(!a.postData.hasMoreData[a.postData.appendData.networkID]||a.postData.hasMoreData[a.postData.appendData.networkID].hasMoreData)}}),(function(e){return{getDataNextSteps:function(a,t,n,r,o,s,l){return e((0,D.Sx)(a,t,n,r,o,s,l))}}}))(I)}}]);