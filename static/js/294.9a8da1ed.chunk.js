"use strict";(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[294],{14294:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var i=a(1413),n=a(15671),r=a(43144),o=a(60136),s=a(29388),l=a(72791),d=a(272),c=a(92381),u=a(94003),h=a(80184),p=function(t){(0,o.Z)(a,t);var e=(0,s.Z)(a);function a(){return(0,n.Z)(this,a),e.apply(this,arguments)}return(0,r.Z)(a,[{key:"render",value:function(){var t=this.props,e=t.item,a=t.wall,n=t.network,r=t.adjustWidth,o=t.cardWidth,s=!!(e.ugc_products&&e.ugc_products.length>0),l=505==a.ThemeRule.iconType?n.color:a.ThemeRule.iconColor,u=n.icon.replace("fa-",""),p={fontFamily:a.ThemeRule.css_font},m=o<=700&&o>500?{fontSize:"26px"}:o<=500&&o>200?{fontSize:"22px"}:o<=200?{fontSize:"18px"}:{};return(0,h.jsx)("div",{className:"ts_cs_social_warpper",children:(0,h.jsxs)("div",{className:"ts_cs_social_wrappeer_in",children:[(0,h.jsx)("div",{className:"ts_cs_social_",style:{color:"rgb(255,255,255)"},children:null!=e.rating&&0!=e.rating?(0,h.jsx)("div",{className:"ts_cs_social_rating",style:{backgroundImage:"url(".concat(c.KA).concat(e.networkId,"/").concat(e.rating,".png)")}}):(0,h.jsx)("div",{className:"tb__icon tb-".concat(u),style:(0,i.Z)({color:l},m),children:(0,h.jsx)("div",{})})}),(0,h.jsx)("div",{className:"ts_cs_btn_wrapper",children:r>190&&s?(0,h.jsx)(d.Z,{shoppingText:a.ThemeRule.shoppingText,ctaClass:"ts_cs_button",styleCta:p}):""})]})})}}]),a}(l.PureComponent),m=function(t){(0,o.Z)(a,t);var e=(0,s.Z)(a);function a(){return(0,n.Z)(this,a),e.apply(this,arguments)}return(0,r.Z)(a,[{key:"componentDidMount",value:function(){var t=this;new ResizeObserver((function(e){window.dispatchEvent(new Event("resize")),t.getMarginTop()})).observe(document.querySelector(".taggshopContainer"))}},{key:"getMarginTop",value:function(){setTimeout((function(){return window.isEditor?(0,u.ll)(99):""}),100)}},{key:"render",value:function(){var t=this.props,e=t.ImageClass,a=t.ImageUrl,i=t.wall,n=t.item,r=t.width,o=t.height,s=("url(".concat(a,")"),{height:n.hotspot?"100%":"auto",width:n.hotspot?"auto":"100%",margin:"0px auto"});return(0,h.jsx)("div",{className:e,style:s,children:(0,h.jsx)("img",{loading:"lazy","data-src":a,className:"ts_cs_img__ imgID".concat(n.id),src:a,"data-is-optmized":"0","data-link":n.link,"data-load":"0","data-wall-id":i.Wall.id,"data-item-id":n.id,onLoad:this.onLoadImage,"data-filter-id":n.filterId,"data-stories":n.stories,"data-network":n.networkId,height:o,width:r,style:s,onError:function(t){"28"!==n.networkId&&(0,u.bO)(t)},alt:""})})}}]),a}(l.PureComponent),w=a(35783),_=function(t){(0,o.Z)(a,t);var e=(0,s.Z)(a);function a(t){var i;return(0,n.Z)(this,a),(i=e.call(this,t)).state={height:"100",width:"100"},i}return(0,r.Z)(a,[{key:"componentWillMount",value:function(){var t=this,e=this.props.item;e.mediaHeight&&""!=e.mediaWidth?this.setState({height:100*e.mediaHeight/e.mediaWidth,width:100*e.mediaWidth/e.mediaHeight}):(0,w.Z)(e.postFileNew).then((function(e){var a=e.width,i=e.height;return t.setState({height:100*i/a,width:100*a/i})})).catch((function(e){return t.setState({height:100,width:100,error:e})}))}},{key:"render",value:function(){var t=this.props,e=t.item,a=t.wall,i=(0,u.HS)(e.ugc_products),n=this.state,r=n.height,o=n.width;return(0,h.jsx)("div",{className:"ts_cs_media_wrap",children:o?(0,h.jsx)(m,{ImageClass:"ts_cs_image",height:r,width:o,ImageUrl:e.postFileNew,ugc_products:i,item:e,wall:a}):""})}}]),a}(l.PureComponent),f=a(290),v=a(60364),g=a(77521),D=function(t){(0,o.Z)(a,t);var e=(0,s.Z)(a);function a(t){var i;return(0,n.Z)(this,a),(i=e.call(this,t)).onLoadPopup=function(t){var e=i.props,a=e.itemData,n=e.wall,r=e.postData,o=e.itemId,s=e.languageSetting,l=e.completeDataObject,d=e.wallId,c=e.webFilters,h=r.map((function(t){return l[t]})),p=h.filter((function(t){return!String(t.id).includes("free_add_")})),m=(0,u.E6)(p,a.id,r.indexOf(o));1===n.Personalization.postFeatured&&((0,u.st)("add"),i.props.showPopUP({type:"post",card:a,idArray:p,index:m,viewOnText:s.viewOnText,shareText:s.shareText,personalization:n.Personalization,ThemeRule:n.ThemeRule,webFilters:c,UserRule:n.UserRule,wall:n})),(0,g.S5)({action:2,wall:d,feed:a.feedId,post:a.referenceId})},i.myRef_gallery=l.createRef(),i.state={cardWidth:null},i}return(0,r.Z)(a,[{key:"componentDidMount",value:function(){var t=this;(0,u.kA)(this.props.itemData.id)&&(this.onLoadPopup(),setTimeout((function(){var e=document.querySelector(".ts_p_".concat(t.props.itemData.id));e&&e.scrollIntoView(!0),t.myRef_gallery&&t.myRef_gallery.current&&t.setState({cardWidth:t.myRef_gallery.current.clientWidth})}),500))}},{key:"componentDidUpdate",value:function(){var t=this;setTimeout((function(){t.myRef_gallery&&t.myRef_gallery.current&&t.setState({cardWidth:t.myRef_gallery.current.clientWidth})}),1e3)}},{key:"render",value:function(){var t=this.props,e=t.itemData,a=t.wall,i=t.webFilters,n=t.adjustWidth,r=(0,u.EH)(e.network,i),o={backgroundColor:a.ThemeRule.cardColor},s={width:"100%",height:"auto",padding:a.Personalization.padding/2};return(0,h.jsx)("div",{className:"ts_cs_post_wrapper ".concat(e&&e.id?"ts_p_"+e.id:""),ref:this.myRef_gallery,id:"ts_".concat(e.id),style:s,children:(0,h.jsxs)("div",{className:"ts_cs_post_in",style:o,onClick:e.isPost?null:this.onLoadPopup,children:[(0,h.jsx)(f.Z,{item:e,cardWidth:this.state.cardWidth,wall:a}),(0,h.jsx)(_,{item:e,wall:a}),(0,h.jsx)(p,{cardWidth:this.state.cardWidth,item:e,wall:a,network:r,adjustWidth:n})]})})}}]),a}(l.PureComponent),x=(0,v.$j)((function(t){return{wallId:t.appData.wallID}}),(function(t){return{showPopUP:function(e){return t((0,g.Bm)(e))}}}))(D),y=(a(71180),a(48282)),j=function(t){(0,o.Z)(a,t);var e=(0,s.Z)(a);function a(t){var i;return(0,n.Z)(this,a),(i=e.call(this,t)).state={cardCount:null,widnowWidth:document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:""},i.onCardCountFormation=function(t){var e=i.props.wall,a=i.state.widnowWidth,n=e.Personalization.minimumPostWidth,r=parseInt(a/n);i.setState({cardCount:r})},i.onUpdateData=function(){setTimeout((function(){return i.requestData()}),1e3)},i.requestData=function(){var t=i.props,e=t.wall,a=t.appendData,n=t.hasMoreData,r=t.loaderData,o=e.ThemeRule.numberOfPosts,s=Math.floor(Date.now()/1e3);n&&!r.isShowMoreLoading&&i.props.getDataNextSteps(e.Wall.id,s,o,a.networkID,a.after,a.heightEvent)},i.secondaryRef=l.createRef(),i}return(0,r.Z)(a,[{key:"componentDidMount",value:function(){this.onCardCountFormation(this.props)}},{key:"componentDidUpdate",value:function(t,e){var a,i,n,r;(null===(a=t.wall)||void 0===a||null===(i=a.Personalization)||void 0===i?void 0:i.minimumPostWidth)!==(null===(n=this.props.wall)||void 0===n||null===(r=n.Personalization)||void 0===r?void 0:r.minimumPostWidth)&&(this.onCardCountFormation(this.props),this.forceUpdate())}},{key:"render",value:function(){var t=this,e=this.props,a=e.postData,n=e.completeDataObject,r=e.adjustWidth,o=e.wall,s=e.newPostData,l=this.state,d=l.cardCount,c=l.widnowWidth,u={type:a.length<parseInt(c/o.Personalization.minimumPostWidth)&&"slider",perPage:d,perMove:1,pagination:!1};return(0,h.jsx)("div",{className:"ts_cs_post_container",id:window.isEditor?"isEditorCls ts_theme_container":"ts_theme_container",children:(0,h.jsxs)(y.tv,{hasTrack:!1,options:u,ref:this.secondaryRef,children:[(0,h.jsx)(y.Gj,{children:s&&s.length>0?s.map((function(e,a){var o=n[e];return(0,h.jsx)(y.jw,{children:(0,h.jsx)(x,(0,i.Z)({itemData:o,itemIndex:a,adjustWidth:r},t.props),"post_Id_".concat(a))},"spli".concat(a))})):null}),(0,h.jsxs)("div",{className:"splide__arrows",children:[(0,h.jsx)("div",{className:"splide__arrow--next tb_cs_slider_next_arrow-next",children:(0,h.jsx)("div",{className:"splideArrow_inner",children:(0,h.jsx)("div",{className:"tb__icon tb-chevron-right",children:(0,h.jsx)("div",{})})})}),(0,h.jsx)("div",{className:"splide__arrow--prev tb_cs_slider_pre_arrow-prev",children:(0,h.jsx)("div",{className:"splideArrow_inner",children:(0,h.jsx)("div",{className:"tb__icon tb-chevron-left",children:(0,h.jsx)("div",{})})})})]})]})})}}]),a}(l.PureComponent),k=(0,v.$j)((function(t){var e=t.appData;return{appData:e,loaderData:t.loaderData,newPostData:e.newPostData,appendData:e.postData.appendData,hasMoreData:!e.postData.hasMoreData[0]||0!=e.postData.hasMoreData[0].hasMoreData&&(!e.postData.hasMoreData[e.postData.appendData.networkID]||e.postData.hasMoreData[e.postData.appendData.networkID].hasMoreData)}}),(function(t){return{getDataNextSteps:function(e,a,i,n,r,o,s){return t((0,g.Sx)(e,a,i,n,r,o,s))},showPopUP:function(e){return t((0,g.Bm)(e))}}}))(j)}}]);
//# sourceMappingURL=294.9a8da1ed.chunk.js.map