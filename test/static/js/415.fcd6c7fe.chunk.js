"use strict";(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[415],{9415:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(47313),i=s(7284),o=s(98501),r=s(17739),n=s(46417);class l extends a.PureComponent{render(){const{item:e,wall:t,network:s,adjustWidth:a,cardWidth:l}=this.props,d=!!(e.ugc_products&&e.ugc_products.length>0),c=505==t.ThemeRule.iconType?s.color:t.ThemeRule.iconColor,h=s.icon.replace("fa-",""),p={fontFamily:t.ThemeRule.css_font},m=l<=700&&l>500?{fontSize:"26px"}:l<=500&&l>200?{fontSize:"22px"}:l<=200?{fontSize:"18px"}:{};return(0,n.jsx)("div",{className:"ts_cs_social_warpper",children:(0,n.jsxs)("div",{className:"ts_cs_social_wrappeer_in",children:[(0,n.jsx)("div",{className:"ts_cs_social_",style:{color:"rgb(255,255,255)"},children:null!=e.rating&&0!=e.rating?(0,n.jsx)("div",{className:"ts_cs_social_rating",style:{backgroundImage:"url(".concat(o.KA).concat(e.networkId,"/").concat(e.rating,".png)")}}):(0,n.jsx)("div",{className:"tb__icon tb-".concat(h),style:{color:c,...m},children:(0,n.jsxs)("div",{children:["twitter"==h?(0,n.jsx)(r.yi,{color:c}):""," "]})})}),(0,n.jsx)("div",{className:"ts_cs_btn_wrapper",children:a>190&&d?(0,n.jsx)(i.Z,{shoppingText:t.ThemeRule.shoppingText,ctaClass:"ts_cs_button",styleCta:p}):""})]})})}}var d=s(34041);class c extends a.PureComponent{componentDidMount(){new ResizeObserver((e=>{window.dispatchEvent(new Event("resize")),this.getMarginTop()})).observe(document.querySelector(".taggshopContainer"))}getMarginTop(){setTimeout((()=>window.isEditor?(0,r.ll)(99):""),100)}render(){const{ImageClass:e,ImageUrl:t,wall:s,item:a,width:i,height:o,handleAllImageError:r}=this.props,l=("url(".concat(t,")"),{height:a.hotspot?"100%":"auto",width:a.hotspot?"auto":"100%",margin:"0px auto"});return(0,n.jsx)("div",{className:e,style:l,children:(0,n.jsx)("img",{loading:"lazy","data-src":t,className:"ts_cs_img__ imgID".concat(a.id),src:t,"data-is-optmized":"0","data-link":a.link,"data-load":"0","data-wall-id":s.Wall.id,"data-item-id":a.id,onLoad:this.onLoadImage,"data-filter-id":a.filterId,"data-stories":a.stories,"data-network":a.networkId,height:o,width:i,style:l,onError:e=>{"28"!==a.networkId&&r(e)},alt:"post"})})}}class h extends a.PureComponent{constructor(e){super(e),this.state={height:"100",width:"100"}}componentWillMount(){const{item:e}=this.props;e.mediaHeight&&""!=e.mediaWidth?this.setState({height:100*e.mediaHeight/e.mediaWidth,width:100*e.mediaWidth/e.mediaHeight}):(0,d.Z)(e.postFileNew).then((e=>{let{width:t,height:s}=e;return this.setState({height:100*s/t,width:100*t/s})})).catch((e=>this.setState({height:100,width:100,error:e})))}render(){const{item:e,wall:t,handleAllImageError:s}=this.props,a=(0,r.HS)(e.ugc_products),{height:i,width:o}=this.state;return(0,n.jsx)("div",{className:"ts_cs_media_wrap",children:o?(0,n.jsx)(c,{handleAllImageError:s,ImageClass:"ts_cs_image",height:i,width:o,ImageUrl:e.postFileNew,ugc_products:a,item:e,wall:t}):""})}}var p=s(42417),m=s(59204),u=s(73763);class g extends a.PureComponent{constructor(e){super(e),this.onLoadPopup=e=>{const{itemData:t,wall:s,appendData:a,postData:i,itemId:o,languageSetting:n,completeDataObject:l,wallId:d,webFilters:c}=this.props;let h=i.map((e=>l[e])),p=h.filter((e=>!String(e.id).includes("free_add_"))),m=(0,r.E6)(p,t.id,i.indexOf(o));1===s.Personalization.postFeatured&&((0,r.st)("add"),this.state.isMobile?this.props.showReelPopUP({type:"post",card:t,idArray:p,index:m,viewOnText:n.viewOnText,shareText:n.shareText,personalization:s.Personalization,ThemeRule:s.ThemeRule,webFilters:c,UserRule:s.UserRule,wall:s}):this.props.showPopUP({type:"post",card:t,idArray:p,index:m,viewOnText:n.viewOnText,shareText:n.shareText,personalization:s.Personalization,ThemeRule:s.ThemeRule,webFilters:c,UserRule:s.UserRule,wall:s})),(0,u.S5)({action:2,wall:d,feed:t.feedId,post:t.referenceId})},this.myRef_gallery=a.createRef(),this.state={cardWidth:null,isMobile:(0,r.EV)()}}componentDidMount(){(0,r.kA)(this.props.itemData.id)&&(this.onLoadPopup(),setTimeout((()=>{const e=document.querySelector(".ts_p_".concat(this.props.itemData.id));e&&e.scrollIntoView(!0)}),500))}componentDidUpdate(){setTimeout((()=>{this.myRef_gallery&&this.myRef_gallery.current&&this.setState({cardWidth:this.myRef_gallery.current.clientWidth})}),1e3)}render(){const{itemData:e,wall:t,webFilters:s,adjustWidth:a,handleAllImageError:i}=this.props,o=(e.highlight,t.ThemeRule.shareOption,t.ThemeRule.hideContent,(0,r.EH)(e.networkId,s)),d={backgroundColor:t.ThemeRule.cardColor},c={width:"100%",height:"auto",padding:t.Personalization.padding/2};return(0,n.jsx)("div",{className:"ts_cs_post_wrapper ".concat(e&&e.id?"ts_p_"+e.id:""),ref:this.myRef_gallery,id:"ts_".concat(e.id),style:c,children:(0,n.jsxs)("div",{className:"ts_cs_post_in",style:d,onClick:e.isPost?null:this.onLoadPopup,children:[(0,n.jsx)(p.Z,{item:e,cardWidth:this.state.cardWidth,wall:t}),(0,n.jsx)(h,{handleAllImageError:i,item:e,wall:t}),(0,n.jsx)(l,{item:e,cardWidth:this.state.cardWidth,wall:t,network:o,adjustWidth:a})]})})}}const _=(0,m.$j)((e=>({wallId:e.appData.wallID})),(e=>({showPopUP:t=>e((0,u.Bm)(t)),showReelPopUP:t=>e((0,u.Sy)(t))})))(g);s(46425);var w=s(11774);class x extends a.PureComponent{constructor(e){super(e),this.allImageQueue=[],this.state={cardCount:null,widnowWidth:document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:"",allFirstImage:!1},this.onCardCountFormation=e=>{const{wall:t}=this.props,{widnowWidth:s}=this.state,a=t.Personalization.minimumPostWidth,i=parseInt(s/a);this.setState({cardCount:i})},this.onUpdateData=()=>{setTimeout((()=>this.requestData()),1e3)},this.requestData=()=>{const{wall:e,postData:t,appendData:s,hasMoreData:a,loaderData:i}=this.props,o=e.ThemeRule.numberOfPosts,r=Math.floor(Date.now()/1e3);a&&!i.isShowMoreLoading&&this.props.getDataNextSteps(e.Wall.id,r,o,s.networkID,s.after,s.heightEvent)},this.handleAllImageError=e=>{try{const t=e.target.getAttribute("data-item-id");this.allImageQueue.push({src:t,e:e}),this.state.allFirstImage||this.processAllImageQueue()}catch(t){}},this.processAllImageQueue=()=>{if(this.allImageQueue.length){this.setState({allFirstImage:!0});const{src:e,e:t}=this.allImageQueue[0];e&&(0,r.bO)(t,this.nextProcessAllImageQueue)}},this.nextProcessAllImageQueue=()=>{try{this.allImageQueue.shift(),this.processAllImageQueue()}catch(e){}},this.secondaryRef=a.createRef()}componentDidMount(){this.onCardCountFormation(this.props)}render(){const{appendData:e,postData:t,completeDataObject:s,adjustWidth:a,hasMoreData:i,wall:o,webFilters:r,languageSetting:l,newPostData:d,loaderData:c}=this.props,{cardCount:h,widnowWidth:p}=this.state,m={type:t.length<parseInt(p/o.Personalization.minimumPostWidth)&&"slider",perPage:h,perMove:1,pagination:!1};return(0,n.jsx)("div",{className:"ts_cs_post_container",id:window.isEditor?"isEditorCls ts_theme_container":"ts_theme_container",children:(0,n.jsxs)(w.tv,{hasTrack:!1,options:m,ref:this.secondaryRef,children:[(0,n.jsx)(w.Gj,{children:d&&d.length>0?d.map(((e,t)=>{const i=s[e];return(0,n.jsx)(w.jw,{children:(0,n.jsx)(_,{handleAllImageError:this.handleAllImageError,itemData:i,itemIndex:t,adjustWidth:a,...this.props},"post_Id_".concat(t))},"spli".concat(t))})):null}),(0,n.jsxs)("div",{className:"splide__arrows",children:[(0,n.jsx)("div",{className:"splide__arrow--next tb_cs_slider_next_arrow-next",onClick:this.onUpdateData,children:i&&c.isShowMoreLoading?(0,n.jsxs)("svg",{width:"26px",height:"26px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:"uil-ring-alt",children:[(0,n.jsx)("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",className:"bk"}),(0,n.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:"#afafb7",fill:"none",strokeWidth:"10",strokeLinecap:"round"}),(0,n.jsxs)("circle",{cx:"50",cy:"50",r:"40",stroke:"#000000",fill:"none",strokeWidth:"6",strokeLinecap:"round",children:[(0,n.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"2s",repeatCount:"indefinite",from:"0",to:"502"}),(0,n.jsx)("animate",{attributeName:"stroke-dasharray",dur:"2s",repeatCount:"indefinite",values:"150.6 100.4;1 250;150.6 100.4"})]})]}):(0,n.jsx)("div",{className:"splideArrow_inner",children:(0,n.jsx)("div",{className:"tb__icon tb-chevron-right",children:(0,n.jsx)("div",{})})})}),(0,n.jsx)("div",{className:"splide__arrow--prev tb_cs_slider_pre_arrow-prev",children:(0,n.jsx)("div",{className:"splideArrow_inner",children:(0,n.jsx)("div",{className:"tb__icon tb-chevron-left",children:(0,n.jsx)("div",{})})})})]})]})})}}const v=(0,m.$j)((e=>{const{appData:t}=e;return{appData:t,loaderData:e.loaderData,newPostData:t.newPostData,appendData:t.postData.appendData,hasMoreData:!t.postData.hasMoreData[0]||0!=t.postData.hasMoreData[0].hasMoreData&&(!t.postData.hasMoreData[t.postData.appendData.networkID]||t.postData.hasMoreData[t.postData.appendData.networkID].hasMoreData)}}),(e=>({getDataNextSteps:(t,s,a,i,o,r,n)=>e((0,u.Sx)(t,s,a,i,o,r,n)),showPopUP:t=>e((0,u.Bm)(t))})))(x)},42417:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(47313),i=(s(89800),s(46417));class o extends a.PureComponent{render(){const{item:e,wall:t,cardWidth:s}=this.props,a=!!(e.ugc_products&&e.ugc_products.length>0),o=3===e.type||5===e.type,r=t&&t.User&&31724!==t.User.id,n=(t&&t.ThemeRule&&t.ThemeRule.fontSize&&t.ThemeRule.fontSize,!!(e.imageList&&e.imageList.length>0)),l=!(!n||!a),d=55==t.Personalization.commerceTheme?"tb_cs_video_multiImage":"",c=s<=700&&s>500?{fontSize:"16px"}:s<=500&&s>350?{fontSize:"14px"}:s<=350&&s>250?{fontSize:"12px"}:s<=250&&s>=150?{fontSize:"11px"}:s<150&&s>100?{fontSize:"10px"}:s<=100&&s>50?{fontSize:"8px"}:{};return(0,i.jsxs)("div",{className:"ts_post_iocn",children:[(0,i.jsxs)("div",{className:"ts_social-icon ".concat(d),style:{color:"rgb(112, 112, 112)"},children:[o&&61!==t.Personalization.commerceTheme?(0,i.jsx)("div",{className:"ts_video_icon tb_cs_video_multiImage",style:c,children:(0,i.jsx)("div",{className:"tb__icon tb-video-alt",children:(0,i.jsx)("div",{})})}):"",a,a&&r&&55!==t.Personalization.commerceTheme?(0,i.jsx)("div",{className:"ts_shop_icon",style:c,children:31665===t.User.id?(0,i.jsx)("svg",{fill:"#ffffff",height:"22",viewBox:"0 0 48 48",width:"22",children:(0,i.jsx)("path",{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})}):(0,i.jsx)("div",{className:"tb__icon tb-shopping-bag",children:(0,i.jsx)("div",{})})}):"",!l&&n&&55!==t.Personalization.commerceTheme?(0,i.jsx)("div",{className:"tb__icon tb-multiple tb_cs_carousal_icon",style:c,children:" "}):"",n&&55==t.Personalization.commerceTheme?(0,i.jsxs)("div",{className:"ts_cs_multiple_option",children:[" ",(0,i.jsx)("div",{className:"tb__icon tb-multiple",style:c,children:" "})]}):""]}),l&&55!==t.Personalization.commerceTheme?(0,i.jsx)("div",{className:"tb__icon tb-multiple tb_cs_carousal_icon_bottom",style:c,children:" "}):""]})}}},7284:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(47313),i=s(73763),o=s(46417);class r extends a.PureComponent{constructor(){super(...arguments),this.onClickCtAButton=e=>{const{item:t,wall:s}=this.props;e&&(0,i.S5)({type:1,action:2,wall:s.Wall.id,feed:t.feedId,post:t.referenceId})}}render(){const{shoppingText:e,ctaClass:t,styleCta:s}=this.props;return(0,o.jsxs)("div",{className:t,style:s,children:[" ",e," "]})}}},46425:()=>{}}]);