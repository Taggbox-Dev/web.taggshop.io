(self.webpackChunkcommerce_themes_update=self.webpackChunkcommerce_themes_update||[]).push([[930],{64428:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var o=s(72791),i=(s(74008),s(80184));class a extends o.PureComponent{render(){const{item:e,wall:t,cardWidth:s}=this.props,o=!!(e.ugc_products&&e.ugc_products.length>0),a=3===e.type||5===e.type,r=t&&t.User&&31724!==t.User.id,l=(t&&t.ThemeRule&&t.ThemeRule.fontSize&&t.ThemeRule.fontSize,!!(e.imageList&&e.imageList.length>0)),d=!(!l||!o),n=55==t.Personalization.commerceTheme?"tb_cs_video_multiImage":"",c=s<=700&&s>500?{fontSize:"16px"}:s<=500&&s>350?{fontSize:"14px"}:s<=350&&s>250?{fontSize:"12px"}:s<=250&&s>=150?{fontSize:"11px"}:s<150&&s>100?{fontSize:"10px"}:s<=100&&s>50?{fontSize:"8px"}:{};return(0,i.jsxs)("div",{className:"ts_post_iocn",children:[(0,i.jsxs)("div",{className:"ts_social-icon ".concat(n),style:{color:"rgb(112, 112, 112)"},children:[a&&61!==t.Personalization.commerceTheme?(0,i.jsx)("div",{className:"ts_video_icon tb_cs_video_multiImage",style:c,children:(0,i.jsx)("div",{className:"tb__icon tb-video-alt",children:(0,i.jsx)("div",{})})}):"",o,o&&r&&55!==t.Personalization.commerceTheme?(0,i.jsx)("div",{className:"ts_shop_icon",style:c,children:31665===t.User.id?(0,i.jsx)("svg",{fill:"#ffffff",height:"22",viewBox:"0 0 48 48",width:"22",children:(0,i.jsx)("path",{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"})}):(0,i.jsx)("div",{className:"tb__icon tb-shopping-bag",children:(0,i.jsx)("div",{})})}):"",!d&&l&&55!==t.Personalization.commerceTheme?(0,i.jsx)("div",{className:"tb__icon tb-multiple tb_cs_carousal_icon",style:c,children:" "}):"",l&&55==t.Personalization.commerceTheme?(0,i.jsxs)("div",{className:"ts_cs_multiple_option",children:[" ",(0,i.jsx)("div",{className:"tb__icon tb-multiple",style:c,children:" "})]}):""]}),d&&55!==t.Personalization.commerceTheme?(0,i.jsx)("div",{className:"tb__icon tb-multiple tb_cs_carousal_icon_bottom",style:c,children:" "}):""]})}}},17405:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s(72791),i=s(59950),a=s(80184);class r extends o.PureComponent{constructor(){super(...arguments),this.onClickCtAButton=e=>{const{item:t,wall:s}=this.props;e&&(0,i.S5)({type:1,action:2,wall:s.Wall.id,feed:t.feedId,post:t.referenceId})}}render(){const{shoppingText:e,ctaClass:t,styleCta:s}=this.props;return(0,a.jsxs)("div",{className:t,style:s,children:[" ",e," "]})}}},21170:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});s(72791);var o=s(62880),i=s(80184);function a(e){const{ugc_products:t,UgcSetting:s,item:a,isPopUp:r=!1}=e,l={background:s?s.hotspot_color:null},d={background:s?s.hotspot_color:null,color:s?s.hotspot_type_color:null},n=(0,o.v9)((e=>e.modalPop)),c=e=>t=>{2==parseInt(s.tab_target)?window.parent.location.href=e:window.open(e,"_blank")};return(0,i.jsx)("div",{className:"ts__post_hotspot",children:t.map(((e,t)=>{let o=parseInt(e.hotspot_cordinates.top),r=parseInt(e.hotspot_cordinates.left);const h=e.UgcProduct.product_discount>0?a.ugc_personalizaion.UgcSetting.discount_price_color:a.ugc_personalizaion.UgcSetting.original_price_color;let p={top:o<"30"||o<"70"&&o>"30"?"18px":"auto",left:r<"30"?"18px":r<"70"&&r>"30"?"-25px":"auto",bottom:o<"30"||o<"70"&&o>"30"?"auto":"18px",right:r<"30"||r<"70"&&r>"30"?"auto":"15px"};return(0,i.jsx)("div",{className:"ts_st_post_hotspot_icon",style:{top:e.hotspot_cordinates.top,left:e.hotspot_cordinates.left},children:1==s.hotspot_type?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{onClick:c(e.UgcProduct.product_url),className:"ts_st_post_hotspot_icon_blob_outer ts_st_post_numberHotspot",children:n.showAll||!n.isShowPopUp||n.showHotspot&&n.index==t&&n.hotspotId==e.id?(0,i.jsxs)("div",{className:"ts_st_post_hotspot_icon_blob_custom",id:"ts_st_post_hotspot_icon_blob".concat(t),style:{...d,textAlign:"center"},children:[" ",t+1]}):null}),n.showAll||!n.isShowPopUp||n.showHotspot&&n.index==t&&n.hotspotId==e.id?(0,i.jsxs)("div",{className:"".concat(n.showAll?"ts_st_post_hotspot_icon_hover":"ts_st_post_hotspot_icon_hover_custom "," ").concat(n.isShowPopUp?"":"ts_st_post_hotspot_icon_hover"),style:p,children:[(0,i.jsx)("div",{className:"ts_st_post_hotspot_icon_hover_p_name",children:e.UgcProduct.product_title}),(0,i.jsxs)("div",{style:{color:h},className:"ts_st_post_hotspot_icon_hover_act_price ".concat(e.UgcProduct.product_discount>0?"ts_st_post_hotspot_icon_hover_act_prise_diabled":""),children:[e.UgcProduct.price_currency_symbol," "," ",e.UgcProduct.product_price]}),e.UgcProduct.product_discount>0?(0,i.jsxs)("div",{className:"ts_st_post_hotspot_icon_hover_dis_price",style:{color:a.ugc_personalizaion.UgcSetting.original_price_color},children:[e.UgcProduct.price_currency_symbol," "," ",e.UgcProduct.product_discount]}):""]}):null]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{onClick:c(e.UgcProduct.product_url),className:"ts_st_post_hotspot_icon_blob_outer",children:(0,i.jsx)("div",{className:"ts_st_post_hotspot_icon_blob",style:l,children:(0,i.jsx)("div",{})})}),(0,i.jsxs)("div",{className:"ts_st_post_hotspot_icon_hover ",style:p,children:[(0,i.jsx)("div",{className:"ts_st_post_hotspot_icon_hover_p_name",children:e.UgcProduct.product_title}),(0,i.jsxs)("div",{style:{color:h},className:"ts_st_post_hotspot_icon_hover_act_price ".concat(e.UgcProduct.product_discount>0?"ts_st_post_hotspot_icon_hover_act_prise_diabled":""),children:[e.UgcProduct.price_currency_symbol," "," ",e.UgcProduct.product_price]}),e.UgcProduct.product_discount>0?(0,i.jsxs)("div",{className:"ts_st_post_hotspot_icon_hover_dis_price",style:{color:a.ugc_personalizaion.UgcSetting.original_price_color},children:[e.UgcProduct.price_currency_symbol," "," ",e.UgcProduct.product_discount," "]}):""]})]})},t)}))})}},58434:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var o=s(72791),i=s(59950),a=s(80184);class r extends o.PureComponent{constructor(){super(...arguments),this.onSharePost=e=>{const{item:t,wall:s}=this.props;e&&(0,i.S5)({type:2,action:2,wall:s.Wall.id,feed:t.feedId,post:t.referenceId})}}render(){const{item:e,wall:t,network:s}=this.props,i=505==t.ThemeRule.iconType?s.color:t.ThemeRule.iconColor;return(0,a.jsx)("div",{className:"ts__card_socialAction",style:{color:"rgb(255, 255, 255)"},children:1==e.networkId?(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)("a",{target:"_blank",onClick:this.onSharePost,href:"https://twitter.com/intent/tweet?in_reply_to=".concat(atob(e.postId)),title:"View",children:(0,a.jsx)("div",{className:"tb__icon tb-share-square",style:{color:i},children:(0,a.jsx)("div",{})})}),(0,a.jsxs)("a",{href:"https://twitter.com/intent/retweet?tweet_id=".concat(atob(e.postId)),title:"Comment",target:"_blank",className:"ts_icon_count_tagg",children:[(0,a.jsx)("div",{className:" tb__icon",style:{color:i},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:i,viewBox:"0 0 640 512",children:(0,a.jsx)("path",{d:"M614.2 334.8C610.5 325.8 601.7 319.1 592 319.1H544V176C544 131.9 508.1 96 464 96h-128c-17.67 0-32 14.31-32 32s14.33 32 32 32h128C472.8 160 480 167.2 480 176v143.1h-48c-9.703 0-18.45 5.844-22.17 14.82s-1.656 19.29 5.203 26.16l80 80.02C499.7 445.7 505.9 448 512 448s12.28-2.344 16.97-7.031l80-80.02C615.8 354.1 617.9 343.8 614.2 334.8zM304 352h-128C167.2 352 160 344.8 160 336V192h48c9.703 0 18.45-5.844 22.17-14.82s1.656-19.29-5.203-26.16l-80-80.02C140.3 66.34 134.1 64 128 64S115.7 66.34 111 71.03l-80 80.02C24.17 157.9 22.11 168.2 25.83 177.2S38.3 192 48 192H96V336C96 380.1 131.9 416 176 416h128c17.67 0 32-14.31 32-32S321.7 352 304 352z"})})}),(0,a.jsx)("div",{style:{color:i},children:0!=e.comment_count?e.comment_count:""})]}),(0,a.jsxs)("a",{href:"https://twitter.com/intent/favorite?tweet_id=".concat(atob(e.postId)),title:"Like",target:"_blank",className:"ts_icon_count_tagg",children:[(0,a.jsx)("div",{className:"tb__icon tb-heart",style:{color:i},children:(0,a.jsx)("div",{})}),(0,a.jsx)("div",{style:{color:i},children:0!=e.like_count?e.like_count:""})]})]}):2==e.networkId||3==e.networkId||7==e.networkId||8==e.networkId||10==e.networkId||18==e.networkId?(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)("a",{href:e.link,title:"Like",target:"_blank",className:"ts_icon_count_tagg",children:(0,a.jsx)("div",{className:"tb__icon tb-thumbs-up",style:{color:i},children:(0,a.jsx)("div",{className:"",children:10==e.networkId&&e.feedId>73590||18==e.networkId?e.like_count:null})})}),(0,a.jsx)("a",{href:e.link,title:"Comment",target:"_blank",className:"ts_icon_count_tagg",children:(0,a.jsxs)("div",{className:"tb__icon tb-comment-dots",style:{color:i},children:[(0,a.jsx)("div",{}),(0,a.jsx)("div",{children:10==e.networkId&&e.feedId>73590||18==e.networkId?e.comment_count:null})]})})]}):4==e.networkId?(0,a.jsx)("a",{href:e.link,className:"fa fa-comment-o tooltips",title:"Comment",target:"_blank",children:(0,a.jsx)("div",{})}):null})}}},22326:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var o=s(72791),i=(s(21170),s(2703)),a=s(80184);class r extends o.PureComponent{componentDidMount(){new ResizeObserver((e=>{window.dispatchEvent(new Event("resize")),this.getMarginTop()})).observe(document.querySelector(".taggshopContainer"))}getMarginTop(){setTimeout((()=>window.isEditor?(0,i.ll)(99):""),100)}render(){const{ImageClass:e,ImageUrl:t,item:s,ugc_products:o,wall:i,width:r,height:l,handleAllImageError:d,itemIndex:n,inViewport:c}=this.props;"url(".concat(t,")");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:e,children:(0,a.jsx)("img",{loading:c?"eager":"lazy",fetchpriority:c?"high":"auto","data-src":t,src:t,"data-is-optmized":"0","data-link":s.link,"data-load":"0","data-wall-id":i.Wall.id,"data-item-id":s.id,onLoad:this.onLoadImage,"data-filter-id":s.filterId,"data-stories":s.stories,"data-network":s.networkId,width:"auto",height:"100%",className:"imgID".concat(s.id),onError:e=>{"28"!==s.networkId&&d(e)},alt:"post"})})})}}var l=s(35783),d=s(96710),n=s.n(d),c=s(63959);const h=e=>{const{videoRef:t,inViewport:s,item:o,wall:i,setVideoLoaded:r,onPlayingVideo:l,videoLoaded:d,handleAllImageError:h,addLoadedMedia:p,loadedMedia:m,isMobile:_}=e;return(0,a.jsxs)(a.Fragment,{children:[_?(0,a.jsx)(c.ZP,{style:{height:"100%"},children:(0,a.jsxs)("div",{className:"ts_rt_image reelThemeCard sk_img",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"512",height:"512",x:"0",y:"0",viewBox:"0 0 439.575 439.575",className:"",children:(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M375.741 63.834c-86.554-85.707-226.199-85.021-311.906 1.533-85.112 85.953-85.112 224.421 0 310.374 86.554 85.707 226.199 85.021 311.906-1.533 85.112-85.953 85.112-224.421 0-310.374zM219.788 422.618c-111.842 0-202.831-90.988-202.831-202.831s90.988-202.83 202.831-202.83 202.831 90.988 202.831 202.831-90.989 202.83-202.831 202.83z",fill:"#FFFFFF",opacity:"1","data-original":"#FFFFFF",className:""}),(0,a.jsx)("path",{d:"M339.349 212.108v.01L160.277 108.733a8.861 8.861 0 0 0-13.292 7.671v206.769a8.861 8.861 0 0 0 13.293 7.67L339.35 227.458a8.862 8.862 0 0 0-.001-15.35z",fill:"#FFFFFF",opacity:"1","data-original":"#FFFFFF",className:""})]})}),(0,a.jsx)("img",{loading:s?"eager":"lazy",fetchpriority:s?"high":"auto","data-src":o.postFileNew,src:o.postFileNew,"data-is-optmized":"0","data-link":o.link,"data-load":"0","data-wall-id":i.Wall.id,"data-item-id":o.id,"data-filter-id":o.filterId,"data-stories":o.stories,"data-network":o.networkId,width:"auto",height:"100%",className:"imgID".concat(o.id),onError:e=>{"28"!==o.networkId&&h(e)},alt:"post"})]})}):(0,a.jsxs)(c.ZP,{style:d?{height:"100%"}:{height:"0px"},debounce:!0,children:[(0,a.jsx)(n(),{ref:t,poster:o.postFileNew,className:"tb-detail-image-iframe",url:s||m.includes(o.id)?(o.mediaClip,o.mediaClip):"","data-type":"video","data-network":o.networkId,"data-link":o.link,"data-wall-id":i.Wall.id,"data-item-id":o.id,"data-load":0,config:{facebook:{appId:"117029975354072",attributes:{"data-width":"auto"}}},loop:!0,onError:e=>{h(e),r(!1)},autoPlay:s,muted:!0,playsinline:!0,onReady:e=>{r(!0),p(o.id)},playing:s,height:"100%",width:"auto",style:d?{position:"relative",opacity:1}:{opacity:1}})," "]}),d?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)("div",{className:"ts_rt_image reelThemeCard sk_img",children:(0,a.jsx)("img",{loading:s?"eager":"lazy",fetchpriority:s?"high":"auto","data-src":o.postFileNew,src:o.postFileNew,"data-is-optmized":"0","data-link":o.link,"data-load":"0","data-wall-id":i.Wall.id,"data-item-id":o.id,"data-filter-id":o.filterId,"data-stories":o.stories,"data-network":o.networkId,width:"auto",height:"100%",className:"imgID".concat(o.id),onError:e=>{"28"!==o.networkId&&h(e)},alt:"post"})})]})},p=e=>{const[t,s]=(0,o.useState)("100"),[d,n]=(0,o.useState)("100"),[c,p]=(0,o.useState)(!1),[m,_]=(0,o.useState)(""),[u,g]=(0,o.useState)(!1),[w,x]=(0,o.useState)(!1),v=(0,o.useRef)(),f=(0,o.useRef)();(0,o.useEffect)((()=>{const{item:o}=e;x((0,i.EV)()),o.mediaHeight&&""!=o.mediaWidth?(s(100*o.mediaHeight/o.mediaWidth),n(100*o.mediaWidth/o.mediaHeight)):(0,l.Z)(o.postFileNew).then((e=>{let{width:t,height:o}=e;s(100*o/100),n(100*t/100)})).catch((e=>{s(100*t/100),n(100*d/100),_(e)}))}),[]),(0,o.useEffect)((()=>{p(e.isVisible)}),[e.isVisible]);const{item:y,wall:b,handleAllImageError:j,isVisible:I,itemIndex:P,addLoadedMedia:k,loadedMedia:N}=e,D=(0,i.HS)(y.ugc_products);return(0,a.jsx)("div",{className:"ts_rt_post_image",ref:v,children:(0,a.jsx)("div",{className:"ts_rt_media_wrap",children:3==y.type||5==y.type?(0,a.jsx)(h,{videoRef:f,inViewport:I,item:y,loadedMedia:N,isMobile:w,addLoadedMedia:k,wall:b,itemIndex:P,setVideoLoaded:g,playing:c,onPlayingVideo:e=>{e.playedSeconds>=3&&f.current.seekTo(0)},videoLoaded:u,handleAllImageError:j}):d?(0,a.jsx)(r,{handleAllImageError:j,inViewport:I,ImageClass:"ts_rt_image",itemIndex:P,height:t,width:d,ImageUrl:y.postFileNew,ugc_products:D,item:y,wall:b}):""})})};s(58434);var m=s(17405),_=(s(34867),s(70188));class u extends o.PureComponent{render(){const{wall:e,item:t,isHover:s}=this.props;e.ThemeRule.css_font,e.ThemeRule.fontSize,s&&"#ffffff"===e.ThemeRule.fontColor||(s||"#000000"!==e.ThemeRule.fontColor)&&e.ThemeRule.fontColor;(0,i.Fx)(t.content);e.Personalization.hashtag_color;return(0,a.jsx)(a.Fragment,{})}}class g extends o.PureComponent{render(){const{item:e,wall:t,network:s,cardWidth:o}=this.props,r=!!(e.ugc_products&&e.ugc_products.length>0),l=t.ThemeRule.hideContent,d=505==t.ThemeRule.iconType?s.color:t.ThemeRule.iconColor,n=""==t.ThemeRule.postHover||1!=t.ThemeRule.postHover,c=n?"ts_white_bg_hover":"ts_black_bg_hover",h={backgroundColor:n?"rgb(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.8)"},p={fontFamily:t.ThemeRule.css_font},g=s.icon.replace("fa-",""),w=o<=700&&o>500?{fontSize:"26px"}:o<=500&&o>200?{fontSize:"22px"}:o<=200?{fontSize:"18px"}:{};return(0,a.jsx)("div",{className:"ts_rt_Post_hover",children:(0,a.jsxs)("div",{className:"ts_card_hover_in",children:[(0,a.jsx)("div",{className:"ts_rt_card_hover_overlay",style:h,children:(0,a.jsx)("div",{})}),(0,a.jsxs)("div",{className:"ts_rt_card_hover_content",children:[(0,a.jsx)("div",{className:"ts_rt_slider-social-icon",style:w,children:null!=e.rating&&0!=e.rating?(0,a.jsx)("div",{className:"ts_rt_social_rating",style:{backgroundImage:"url(".concat(_.KA).concat(e.networkId,"/").concat(e.rating,".png)")},children:(0,a.jsx)("div",{})}):(0,a.jsx)("div",{className:"tb__icon tb-".concat(g),style:{color:d,...w},children:(0,a.jsxs)("div",{children:["twitter"==g?(0,a.jsx)(i.yi,{color:d}):""," "]})})}),(0,a.jsx)("div",{className:"ts_rt_card_content_00",children:r?0==l?(0,a.jsx)(u,{wall:t,item:e,isHover:n}):(0,a.jsx)("div",{className:"ts_rt_card_shop_btn  ".concat(c),children:(0,a.jsx)(m.Z,{shoppingText:t.ThemeRule.shoppingText,ctaClass:"ts_rt_shop_btn",styleCta:p})}):(0,a.jsx)(u,{wall:t,item:e,isHover:n})})]})]})})}}var w=s(64428),x=s(62880),v=s(59950);class f extends o.PureComponent{constructor(e){super(e),this.onLoadPopup=e=>{const{itemData:t,wall:s,postData:o,itemId:a,languageSetting:r,completeDataObject:l,wallId:d,webFilters:n}=this.props;let c=o.map((e=>l[e])),h=c.filter((e=>!String(e.id).includes("free_add_"))),p=(0,i.E6)(h,t.id,o.indexOf(a));1===s.Personalization.postFeatured&&((0,i.st)("add"),this.state.isMobile?this.props.showReelPopUP({type:"post",card:t,idArray:h,index:p,viewOnText:r.viewOnText,shareText:r.shareText,personalization:s.Personalization,ThemeRule:s.ThemeRule,webFilters:n,UserRule:s.UserRule,wall:s}):this.props.showPopUP({type:"post",card:t,idArray:h,index:p,viewOnText:r.viewOnText,shareText:r.shareText,personalization:s.Personalization,ThemeRule:s.ThemeRule,webFilters:n,UserRule:s.UserRule,wall:s})),(0,v.S5)({action:2,wall:d,feed:t.feedId,post:t.referenceId})},this.myRef=o.createRef(),this.state={cardWidth:null,isMobile:(0,i.EV)()}}componentDidMount(){(0,i.kA)(this.props.itemData.id)&&(this.onLoadPopup(),setTimeout((()=>{const e=document.querySelector(".ts_p_".concat(this.props.itemData.id));e&&e.scrollIntoView(!0),this.myRef&&this.myRef.current&&this.setState({cardWidth:this.myRef.current.clientWidth})}),500))}componentDidUpdate(){setTimeout((()=>{this.myRef&&this.myRef.current&&this.setState({cardWidth:this.myRef.current.clientWidth})}),1e3)}render(){const{itemData:e,wall:t,webFilters:s,handleAllImageError:o,isVisible:r,itemIndex:l,addLoadedMedia:d,loadedMedia:n}=this.props,c=(0,i.EH)(e.networkId,s),h={backgroundColor:t.ThemeRule.cardColor,borderRadius:t.ThemeRule.roundEdge},m={width:"100%",height:"auto",padding:t.Personalization.padding/2},_=!!(e.ugc_products&&e.ugc_products.length>0),u=(3===e.type||e.type,!!(e.imageList&&e.imageList.length>0));return(0,a.jsx)("div",{className:"ts_rt_post_wrapper ".concat(e&&e.id?"ts_p_"+e.id:""),ref:this.myRef,id:"ts_".concat(e.id),onClick:e.isPost?null:this.onLoadPopup,style:m,"data-method":e.id,children:(0,a.jsxs)("div",{className:"ts_rt_post_in ".concat(e.hotspot?"":"ts_rt_post_in_hostpot_hover"),style:h,children:[_||u?(0,a.jsx)(w.Z,{item:e,cardWidth:this.state.cardWidth,wall:t}):"",(0,a.jsx)(p,{handleAllImageError:o,loadedMedia:n,addLoadedMedia:d,item:e,wall:t,itemIndex:l,isVisible:r,mediaRef:this.myRef}),(0,a.jsx)(g,{cardWidth:this.state.cardWidth,item:e,wall:t,network:c})]})})}}const y=(0,x.$j)((e=>({wallId:e.appData.wallID})),(e=>({showPopUP:t=>e((0,v.Bm)(t)),showReelPopUP:t=>e((0,v.Sy)(t))})))(f);var b=s(49705),j=(s(96242),s(63680),s(26173),s(8771));class I extends o.PureComponent{constructor(e){super(e),this.allImageQueue=[],this.state={allFirstImage:!1,windowWidth:document.querySelector(".taggshopContainer")?document.querySelector(".taggshopContainer").clientWidth:"",loadedMedia:[],isMobile:!1},this.preloadImages=async e=>{e&&e.length&&e.forEach((async e=>{const t=this.props.completeDataObject[e];await this.preloadImage(t.postFileNew)}))},this.preloadImage=e=>new Promise(((t,s)=>{const o=new Image;o.src=e,o.style.display="none",o.onload=()=>{console.log("removed"),document.body.removeChild(o),t()},o.onerror=s,document.body.appendChild(o)})),this.onUpdateData=()=>{setTimeout((()=>this.requestData()),1e3)},this.requestData=()=>{const{wall:e,postData:t,appendData:s,hasMoreData:o,loaderData:i}=this.props,a=e.ThemeRule.numberOfPosts,r=Math.floor(Date.now()/1e3);o&&!i.isShowMoreLoading&&this.props.getDataNextSteps(e.Wall.id,r,a,s.networkID,s.after,s.heightEvent)},this.onLoadPopup=(e,t)=>{const{wall:s,postData:o,languageSetting:a,completeDataObject:r,wallId:l,webFilters:d}=this.props;let n=o.map((e=>r[e])),c=n.filter((e=>!String(e.id).includes("free_add_"))),h=(0,i.E6)(c,t.id,e);1===s.Personalization.postFeatured&&((0,i.st)("add"),this.props.showPopUP({type:"post",card:t,idArray:c,index:h,viewOnText:a.viewOnText,shareText:a.shareText,personalization:s.Personalization,ThemeRule:s.ThemeRule,webFilters:d,UserRule:s.UserRule,wall:s})),(0,v.S5)({action:2,wall:l,feed:t.feedId,post:t.referenceId})},this.handleAllImageError=e=>{try{const t=e.target.getAttribute("data-item-id");this.allImageQueue.push({src:t,e:e}),this.state.allFirstImage||this.processAllImageQueue()}catch(t){}},this.processAllImageQueue=()=>{if(this.allImageQueue.length){this.setState({allFirstImage:!0});const{src:e,e:t}=this.allImageQueue[0];e&&(console.log("src",e),(0,i.bO)(t,this.nextProcessAllImageQueue))}},this.nextProcessAllImageQueue=()=>{try{this.allImageQueue.shift(),this.processAllImageQueue()}catch(e){}},this.DetectIphone=()=>{var e=navigator.userAgent.toLowerCase();e.search("iphone")>-1||e.search("android")>-1?this.setState({isMobile:!0}):this.setState({isMobile:!1})},this.addLoadedMedia=e=>this.setState({loadedMedia:[...this.state.loadedMedia,e]}),this.secondaryRef=o.createRef(),this.slideRef=o.createRef()}componentDidMount(){const{wall:e,hasMoreData:t,postData:s}=this.props;this.preloadImages(s),this.DetectIphone(),e.ThemeRule.numberOfCoumn==s.length&&t&&this.onUpdateData()}render(){const{completeDataObject:e,hasMoreData:t,wall:s,loaderData:o,postData:i}=this.props,{windowWidth:r,loadedMedia:l,isMobile:d}=this.state,n=(s.Personalization.columnCount,s.ThemeRule.slidePost),c=s.ThemeRule.numberOfCoumn;return(0,a.jsx)("div",{className:"ts_rl_post_container",id:"ts_theme_container",children:(0,a.jsxs)(b.tq,{style:{width:"100%"},onScroll:e=>{t&&e.progress>.8&&this.onUpdateData()},onSlideChange:e=>{t&&e.progress>.8&&this.onUpdateData()},onAutoplay:e=>{t&&e.progress>.8&&this.onUpdateData()},autoHeight:!0,speed:700,edgeSwipeDetection:!0,slidesPerView:0==c?6.2:c+.5,touchRatio:2,cssMode:d,passiveListeners:!0,height:"250px",freeMode:{enabled:!0,sticky:!1,momentumBounceRatio:2,momentumVelocityRatio:3},autoplay:{delay:n?1e3*s.ThemeRule.slideDuration:99e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},breakpoints:{0:{slidesPerView:1.6},576:{slidesPerView:0==c?2.6:c+.6},768:{slidesPerView:0==c?3.6:c+.6},1024:{slidesPerView:0==c?4.6:c+.6},1200:{slidesPerView:0==c?5.6:c+.6},1440:{slidesPerView:0==c?6.6:c+.6},1800:{slidesPerView:0==c?7.6:c+.6},2500:{slidesPerView:0==c?8.6:c+.6}},mousewheel:{forceToAxis:!0,sensitivity:2},watchSlidesProgress:!0,modules:[j.pt,j.Gk,j.Rv],className:"ts_st_mySwiper",children:[i&&i.length>0?i.map(((t,s)=>{const o=e[t];return(0,a.jsx)(b.o5,{ref:this.slideRef,children:e=>{let{isVisible:t}=e;return(0,a.jsx)(y,{handleAllImageError:this.handleAllImageError,isVisible:t,addLoadedMedia:this.addLoadedMedia,loadedMedia:l,slideRef:this.slideRef,itemData:o,itemIndex:s,...this.props},"post_id_".concat(s))}},"poid_".concat(s))})):null,t&&o.isShowMoreLoading?(0,a.jsx)(b.o5,{children:(0,a.jsx)("div",{className:"ts_rt_post_wrapper",style:{width:"100%",height:"auto",padding:s.Personalization.padding/2},children:(0,a.jsx)("div",{className:"sk_img reelThemeCard m-0",children:(0,a.jsx)("div",{})})})},"poid_loading"):(0,a.jsx)(a.Fragment,{})]})})}}const P=(0,x.$j)((e=>{const{appData:t}=e;return{appData:t,loaderData:e.loaderData,newPostData:t.newPostData,appendData:t.postData.appendData,hasMoreData:!t.postData.hasMoreData[0]||0!=t.postData.hasMoreData[0].hasMoreData&&(!t.postData.hasMoreData[t.postData.appendData.networkID]||t.postData.hasMoreData[t.postData.appendData.networkID].hasMoreData)}}),(e=>({getDataNextSteps:(t,s,o,i,a,r,l)=>e((0,v.Sx)(t,s,o,i,a,r,l)),showPopUP:t=>e((0,v.Bm)(t))})))(I)},50247:()=>{}}]);
//# sourceMappingURL=930.6033d8e2.chunk.js.map